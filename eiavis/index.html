<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EIA TimeVis</title>
    <meta
      name="description"
      content="Singleâ€‘page visualization of EIA data using Observable Plot"
    />
    <script type="module" crossorigin>(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function xt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Xr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ko(t){let n,e,r;t.length!==2?(n=xt,e=(f,c)=>xt(t(f),c),r=(f,c)=>t(f)-c):(n=t===xt||t===Xr?t:Hm,e=t,r=t);function i(f,c,u=0,s=f.length){if(u<s){if(n(c,c)!==0)return s;do{const d=u+s>>>1;e(f[d],c)<0?u=d+1:s=d}while(u<s)}return u}function o(f,c,u=0,s=f.length){if(u<s){if(n(c,c)!==0)return s;do{const d=u+s>>>1;e(f[d],c)<=0?u=d+1:s=d}while(u<s)}return u}function a(f,c,u=0,s=f.length){const d=i(f,c,u,s-1);return d>u&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:a,right:o}}function Hm(){return 0}function Ul(t){return t===null?NaN:+t}function*Wm(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Vm=ko(xt),Lo=Vm.right;ko(Ul).center;function Do(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function Xm(t){return t.length|0}function Gm(t){return!(t>0)}function jm(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Zm(t){return n=>t(...n)}function Km(...t){const n=typeof t[t.length-1]=="function"&&Zm(t.pop());t=t.map(jm);const e=t.map(Xm),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Gm))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function Qm(t,n){var e=0;return Float64Array.from(t,r=>e+=+r||0)}function uc(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function Io(t,n){const e=uc(t,n);return e&&Math.sqrt(e)}function Yt(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class le{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class de extends Map{constructor(n,e=Yl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(cf(this,n))}has(n){return super.has(cf(this,n))}set(n,e){return super.set(zl(this,n),e)}delete(n){return super.delete(ql(this,n))}}class Ro extends Set{constructor(n,e=Yl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(cf(this,n))}add(n){return super.add(zl(this,n))}delete(n){return super.delete(ql(this,n))}}function cf({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function zl({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function ql({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Yl(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hi(t){return t}function Gr(t,...n){return Fo(t,Hi,Hi,n)}function Eu(t,...n){return Fo(t,Array.from,Hi,n)}function Pe(t,n,...e){return Fo(t,Hi,n,e)}function Jm(t,n,...e){return Fo(t,Array.from,n,e)}function Fo(t,n,e,r){return(function i(o,a){if(a>=r.length)return e(o);const f=new de,c=r[a++];let u=-1;for(const s of o){const d=c(s,++u,o),l=f.get(d);l?l.push(s):f.set(d,[s])}for(const[s,d]of f)f.set(s,i(d,a));return n(f)})(t,0)}function tg(t,n){return Array.from(n,e=>t[e])}function Wi(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Nr(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Nr(e[i],e[o]))),tg(t,r)}return t.sort(sc(e))}function sc(t=xt){if(t===xt)return Nr;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Nr(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function lc(t,n,e){return(n.length!==2?Wi(Pe(t,n,e),(([r,i],[o,a])=>xt(i,a)||xt(r,o))):Wi(Gr(t,e),(([r,i],[o,a])=>n(i,a)||xt(r,o)))).map(([r])=>r)}const ng=Math.sqrt(50),eg=Math.sqrt(10),rg=Math.sqrt(2);function Vi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ng?10:o>=eg?5:o>=rg?2:1;let f,c,u;return i<0?(u=Math.pow(10,-i)/a,f=Math.round(t*u),c=Math.round(n*u),f/u<t&&++f,c/u>n&&--c,u=-u):(u=Math.pow(10,i)*a,f=Math.round(t/u),c=Math.round(n/u),f*u<t&&++f,c*u>n&&--c),c<f&&.5<=e&&e<2?Vi(t,n,e*2):[f,c,u]}function kr(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Vi(n,t,e):Vi(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)c[u]=(o-u)/-a;else for(let u=0;u<f;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<f;++u)c[u]=(i+u)/-a;else for(let u=0;u<f;++u)c[u]=(i+u)*a;return c}function Xi(t,n,e){return n=+n,t=+t,e=+e,Vi(t,n,e)[2]}function uf(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Xi(n,t,e):Xi(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function ig(t){return Math.max(1,Math.ceil(Math.log(Do(t))/Math.LN2)+1)}function At(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function og(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function hn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function ag(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Hl(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Nr:sc(i);r>e;){if(r-e>600){const c=r-e+1,u=n-e+1,s=Math.log(c),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(c-d)/c)*(u-c/2<0?-1:1),h=Math.max(e,Math.floor(n-u*d/c+l)),p=Math.min(r,Math.floor(n+(c-u)*d/c+l));Hl(t,n,h,p,i)}const o=t[n];let a=e,f=r;for(cr(t,e,n),i(t[r],o)>0&&cr(t,e,r);a<f;){for(cr(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?cr(t,e,f):(++f,cr(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function cr(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Wl(t,n=xt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?xt(a,i)>0:xt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function ze(t,n,e){if(t=Float64Array.from(Wm(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return hn(t);if(n>=1)return At(t);var r,i=(r-1)*n,o=Math.floor(i),a=At(Hl(t,o).subarray(0,o+1)),f=hn(t.subarray(o+1));return a+(f-a)*(i-o)}}function fg(t,n,e=Ul){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function cg(t,n,e){const r=Do(t),i=ze(t,.75)-ze(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Vl(t,n,e){const r=Do(t),i=Io(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Xl(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Gi(t,n){return ze(t,.5,n)}function*ug(t){for(const n of t)yield*n}function Gl(t){return Array.from(ug(t))}function jl(t,n){const e=new de;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function sg(t,n=lg){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function lg(t,n){return[t,n]}function sf(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Zl(t,n=xt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);n.length!==2&&(e=e.map(n),n=xt);const i=(f,c)=>n(e[f],e[c]);let o,a;return t=Uint32Array.from(e,(f,c)=>c),t.sort(n===xt?(f,c)=>Nr(e[f],e[c]):sc(i)),t.forEach((f,c)=>{const u=i(f,o===void 0?f:o);u>=0?((o===void 0||u>0)&&(o=f,a=c),r[f]=a):r[f]=NaN}),r}function Xn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function ji(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function dg(t){return t}var hg=3,Nu=1e-6;function pg(t){return"translate("+t+",0)"}function mg(t){return n=>+t(n)}function gg(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function yg(){return!this.__axis}function bg(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,s="y",d=pg;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):dg),g=Math.max(o,0)+f,y=n.range(),w=+y[0]+c,_=+y[y.length-1]+c,b=(n.bandwidth?gg:mg)(n.copy(),c),M=h.selection?h.selection():h,v=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,n).order(),$=x.exit(),S=x.enter().append("g").attr("class","tick"),N=x.select("line"),A=x.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),N=N.merge(S.append("line").attr("stroke","currentColor").attr(s+"2",u*o)),A=A.merge(S.append("text").attr("fill","currentColor").attr(s,u*g).attr("dy","0.71em")),h!==M&&(v=v.transition(h),x=x.transition(h),N=N.transition(h),A=A.transition(h),$=$.transition(h).attr("opacity",Nu).attr("transform",function(E){return isFinite(E=b(E))?d(E+c):this.getAttribute("transform")}),S.attr("opacity",Nu).attr("transform",function(E){var P=this.parentNode.__axis;return d((P&&isFinite(P=P(E))?P:b(E))+c)})),$.remove(),v.attr("d",a?"M"+w+","+u*a+"V"+c+"H"+_+"V"+u*a:"M"+w+","+c+"H"+_),x.attr("opacity",1).attr("transform",function(E){return d(b(E)+c)}),N.attr(s+"2",u*o),A.attr(s,u*g).text(m),M.filter(yg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=b})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function wg(t){return bg(hg,t)}var _g={value:()=>{}};function Kl(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Oi(e)}function Oi(t){this._=t}function vg(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Oi.prototype=Kl.prototype={constructor:Oi,on:function(t,n){var e=this._,r=vg(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=xg(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=ku(e[i],t.name,n);else if(n==null)for(i in e)e[i]=ku(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Oi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function xg(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function ku(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=_g,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var lf="http://www.w3.org/1999/xhtml";const qe={svg:"http://www.w3.org/2000/svg",xhtml:lf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Po(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),qe.hasOwnProperty(n)?{space:qe[n],local:t}:t}function Mg(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===lf&&n.documentElement.namespaceURI===lf?n.createElement(t):n.createElementNS(e,t)}}function $g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Oo(t){var n=Po(t);return(n.local?$g:Mg)(n)}function Tg(){}function dc(t){return t==null?Tg:function(){return this.querySelector(t)}}function Sg(t){typeof t!="function"&&(t=dc(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,u,s=0;s<a;++s)(c=o[s])&&(u=t.call(c,c.__data__,s,o))&&("__data__"in c&&(u.__data__=c.__data__),f[s]=u);return new Pt(r,this._parents)}function Ag(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Cg(){return[]}function Ql(t){return t==null?Cg:function(){return this.querySelectorAll(t)}}function Eg(t){return function(){return Ag(t.apply(this,arguments))}}function Ng(t){typeof t=="function"?t=Eg(t):t=Ql(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,u=0;u<f;++u)(c=a[u])&&(r.push(t.call(c,c.__data__,u,a)),i.push(c));return new Pt(r,i)}function Jl(t){return function(){return this.matches(t)}}function td(t){return function(n){return n.matches(t)}}var kg=Array.prototype.find;function Lg(t){return function(){return kg.call(this.children,t)}}function Dg(){return this.firstElementChild}function Ig(t){return this.select(t==null?Dg:Lg(typeof t=="function"?t:td(t)))}var Rg=Array.prototype.filter;function Fg(){return Array.from(this.children)}function Pg(t){return function(){return Rg.call(this.children,t)}}function Og(t){return this.selectAll(t==null?Fg:Pg(typeof t=="function"?t:td(t)))}function Bg(t){typeof t!="function"&&(t=Jl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&f.push(c);return new Pt(r,this._parents)}function nd(t){return new Array(t.length)}function Ug(){return new Pt(this._enter||this._groups.map(nd),this._parents)}function Zi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Zi.prototype={constructor:Zi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function zg(t){return function(){return t}}function qg(t,n,e,r,i,o){for(var a=0,f,c=n.length,u=o.length;a<u;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Zi(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function Yg(t,n,e,r,i,o,a){var f,c,u=new Map,s=n.length,d=o.length,l=new Array(s),h;for(f=0;f<s;++f)(c=n[f])&&(l[f]=h=a.call(c,c.__data__,f,n)+"",u.has(h)?i[f]=c:u.set(h,c));for(f=0;f<d;++f)h=a.call(t,o[f],f,o)+"",(c=u.get(h))?(r[f]=c,c.__data__=o[f],u.delete(h)):e[f]=new Zi(t,o[f]);for(f=0;f<s;++f)(c=n[f])&&u.get(l[f])===c&&(i[f]=c)}function Hg(t){return t.__data__}function Wg(t,n){if(!arguments.length)return Array.from(this,Hg);var e=n?Yg:qg,r=this._parents,i=this._groups;typeof t!="function"&&(t=zg(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),u=0;u<o;++u){var s=r[u],d=i[u],l=d.length,h=Vg(t.call(s,s&&s.__data__,u,r)),p=h.length,m=f[u]=new Array(p),g=a[u]=new Array(p),y=c[u]=new Array(l);e(s,d,m,g,y,h,n);for(var w=0,_=0,b,M;w<p;++w)if(b=m[w]){for(w>=_&&(_=w+1);!(M=g[_])&&++_<p;);b._next=M||null}}return a=new Pt(a,r),a._enter=f,a._exit=c,a}function Vg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xg(){return new Pt(this._exit||this._groups.map(nd),this._parents)}function Gg(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function jg(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var u=e[c],s=r[c],d=u.length,l=f[c]=new Array(d),h,p=0;p<d;++p)(h=u[p]||s[p])&&(l[p]=h);for(;c<i;++c)f[c]=e[c];return new Pt(f,this._parents)}function Zg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Kg(t){t||(t=Qg);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),u,s=0;s<f;++s)(u=a[s])&&(c[s]=u);c.sort(n)}return new Pt(i,this._parents).order()}function Qg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Jg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ty(){return Array.from(this)}function ny(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ey(){let t=0;for(const n of this)++t;return t}function ry(){return!this.node()}function iy(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function oy(t){return function(){this.removeAttribute(t)}}function ay(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fy(t,n){return function(){this.setAttribute(t,n)}}function cy(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function uy(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function sy(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function ly(t,n){var e=Po(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ay:oy:typeof n=="function"?e.local?sy:uy:e.local?cy:fy)(e,n))}function ed(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dy(t){return function(){this.style.removeProperty(t)}}function hy(t,n,e){return function(){this.style.setProperty(t,n,e)}}function py(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function my(t,n,e){return arguments.length>1?this.each((n==null?dy:typeof n=="function"?py:hy)(t,n,e??"")):Ye(this.node(),t)}function Ye(t,n){return t.style.getPropertyValue(n)||ed(t).getComputedStyle(t,null).getPropertyValue(n)}function gy(t){return function(){delete this[t]}}function yy(t,n){return function(){this[t]=n}}function by(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function wy(t,n){return arguments.length>1?this.each((n==null?gy:typeof n=="function"?by:yy)(t,n)):this.node()[t]}function rd(t){return t.trim().split(/^|\s+/)}function hc(t){return t.classList||new id(t)}function id(t){this._node=t,this._names=rd(t.getAttribute("class")||"")}id.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function od(t,n){for(var e=hc(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ad(t,n){for(var e=hc(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function _y(t){return function(){od(this,t)}}function vy(t){return function(){ad(this,t)}}function xy(t,n){return function(){(n.apply(this,arguments)?od:ad)(this,t)}}function My(t,n){var e=rd(t+"");if(arguments.length<2){for(var r=hc(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?xy:n?_y:vy)(e,n))}function $y(){this.textContent=""}function Ty(t){return function(){this.textContent=t}}function Sy(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Ay(t){return arguments.length?this.each(t==null?$y:(typeof t=="function"?Sy:Ty)(t)):this.node().textContent}function Cy(){this.innerHTML=""}function Ey(t){return function(){this.innerHTML=t}}function Ny(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function ky(t){return arguments.length?this.each(t==null?Cy:(typeof t=="function"?Ny:Ey)(t)):this.node().innerHTML}function Ly(){this.nextSibling&&this.parentNode.appendChild(this)}function Dy(){return this.each(Ly)}function Iy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ry(){return this.each(Iy)}function Fy(t){var n=typeof t=="function"?t:Oo(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Py(){return null}function Oy(t,n){var e=typeof t=="function"?t:Oo(t),r=n==null?Py:typeof n=="function"?n:dc(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function By(){var t=this.parentNode;t&&t.removeChild(this)}function Uy(){return this.each(By)}function zy(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function qy(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yy(t){return this.select(t?qy:zy)}function Hy(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Wy(t){return function(n){t.call(this,n,this.__data__)}}function Vy(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Xy(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Gy(t,n,e){return function(){var r=this.__on,i,o=Wy(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function jy(t,n,e){var r=Vy(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,u=f.length,s;c<u;++c)for(i=0,s=f[c];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=n?Gy:Xy,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function fd(t,n,e){var r=ed(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Zy(t,n){return function(){return fd(this,t,n)}}function Ky(t,n){return function(){return fd(this,t,n.apply(this,arguments))}}function Qy(t,n){return this.each((typeof n=="function"?Ky:Zy)(t,n))}function*Jy(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var cd=[null];function Pt(t,n){this._groups=t,this._parents=n}function jr(){return new Pt([[document.documentElement]],cd)}function tb(){return this}Pt.prototype=jr.prototype={constructor:Pt,select:Sg,selectAll:Ng,selectChild:Ig,selectChildren:Og,filter:Bg,data:Wg,enter:Ug,exit:Xg,join:Gg,merge:jg,selection:tb,order:Zg,sort:Kg,call:Jg,nodes:ty,node:ny,size:ey,empty:ry,each:iy,attr:ly,style:my,property:wy,classed:My,text:Ay,html:ky,raise:Dy,lower:Ry,append:Fy,insert:Oy,remove:Uy,clone:Yy,datum:Hy,on:jy,dispatch:Qy,[Symbol.iterator]:Jy};function ae(t){return typeof t=="string"?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],cd)}function nb(t){let n;for(;n=t.sourceEvent;)t=n;return t}function eb(t,n){if(t=nb(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function er(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Zr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Kn(){}var he=.7,He=1/he,Oe="\\s*([+-]?\\d+)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rb=/^#([0-9a-f]{3,8})$/,ib=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),ob=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),ab=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${Lr}\\)$`),fb=new RegExp(`^rgba\\(${ln},${ln},${ln},${Lr}\\)$`),cb=new RegExp(`^hsl\\(${Lr},${ln},${ln}\\)$`),ub=new RegExp(`^hsla\\(${Lr},${ln},${ln},${Lr}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};er(Kn,pe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Du,formatHex:Du,formatHex8:sb,formatHsl:lb,formatRgb:Iu,toString:Iu});function Du(){return this.rgb().formatHex()}function sb(){return this.rgb().formatHex8()}function lb(){return ud(this).formatHsl()}function Iu(){return this.rgb().formatRgb()}function pe(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=rb.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Ru(n):e===3?new yt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?yi(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?yi(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=ib.exec(t))?new yt(n[1],n[2],n[3],1):(n=ob.exec(t))?new yt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ab.exec(t))?yi(n[1],n[2],n[3],n[4]):(n=fb.exec(t))?yi(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=cb.exec(t))?Ou(n[1],n[2]/100,n[3]/100,1):(n=ub.exec(t))?Ou(n[1],n[2]/100,n[3]/100,n[4]):Lu.hasOwnProperty(t)?Ru(Lu[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Ru(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function yi(t,n,e,r){return r<=0&&(t=n=e=NaN),new yt(t,n,e,r)}function pc(t){return t instanceof Kn||(t=pe(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Gn(t,n,e,r){return arguments.length===1?pc(t):new yt(t,n,e,r??1)}function yt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}er(yt,Gn,Zr(Kn,{brighter(t){return t=t==null?He:Math.pow(He,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?he:Math.pow(he,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(fe(this.r),fe(this.g),fe(this.b),Ki(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fu,formatHex:Fu,formatHex8:db,formatRgb:Pu,toString:Pu}));function Fu(){return`#${oe(this.r)}${oe(this.g)}${oe(this.b)}`}function db(){return`#${oe(this.r)}${oe(this.g)}${oe(this.b)}${oe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pu(){const t=Ki(this.opacity);return`${t===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${t===1?")":`, ${t})`}`}function Ki(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oe(t){return t=fe(t),(t<16?"0":"")+t.toString(16)}function Ou(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Kt(t,n,e,r)}function ud(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);if(t instanceof Kn||(t=pe(t)),!t)return new Kt;if(t instanceof Kt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Kt(a,f,c,t.opacity)}function df(t,n,e,r){return arguments.length===1?ud(t):new Kt(t,n,e,r??1)}function Kt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}er(Kt,df,Zr(Kn,{brighter(t){return t=t==null?He:Math.pow(He,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?he:Math.pow(he,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new yt(wa(t>=240?t-240:t+120,i,r),wa(t,i,r),wa(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Kt(Bu(this.h),bi(this.s),bi(this.l),Ki(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ki(this.opacity);return`${t===1?"hsl(":"hsla("}${Bu(this.h)}, ${bi(this.s)*100}%, ${bi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Bu(t){return t=(t||0)%360,t<0?t+360:t}function bi(t){return Math.max(0,Math.min(1,t||0))}function wa(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const sd=Math.PI/180,ld=180/Math.PI,Qi=18,dd=.96422,hd=1,pd=.82521,md=4/29,Be=6/29,gd=3*Be*Be,hb=Be*Be*Be;function yd(t){if(t instanceof dn)return new dn(t.l,t.a,t.b,t.opacity);if(t instanceof Nn)return bd(t);t instanceof yt||(t=pc(t));var n=Ma(t.r),e=Ma(t.g),r=Ma(t.b),i=_a((.2225045*n+.7168786*e+.0606169*r)/hd),o,a;return n===e&&e===r?o=a=i:(o=_a((.4360747*n+.3850649*e+.1430804*r)/dd),a=_a((.0139322*n+.0971045*e+.7141733*r)/pd)),new dn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function hf(t,n,e,r){return arguments.length===1?yd(t):new dn(t,n,e,r??1)}function dn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}er(dn,hf,Zr(Kn,{brighter(t){return new dn(this.l+Qi*(t??1),this.a,this.b,this.opacity)},darker(t){return new dn(this.l-Qi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=dd*va(n),t=hd*va(t),e=pd*va(e),new yt(xa(3.1338561*n-1.6168667*t-.4906146*e),xa(-.9787684*n+1.9161415*t+.033454*e),xa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function _a(t){return t>hb?Math.pow(t,1/3):t/gd+md}function va(t){return t>Be?t*t*t:gd*(t-md)}function xa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ma(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pb(t){if(t instanceof Nn)return new Nn(t.h,t.c,t.l,t.opacity);if(t instanceof dn||(t=yd(t)),t.a===0&&t.b===0)return new Nn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*ld;return new Nn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pf(t,n,e,r){return arguments.length===1?pb(t):new Nn(t,n,e,r??1)}function Nn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function bd(t){if(isNaN(t.h))return new dn(t.l,0,0,t.opacity);var n=t.h*sd;return new dn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}er(Nn,pf,Zr(Kn,{brighter(t){return new Nn(this.h,this.c,this.l+Qi*(t??1),this.opacity)},darker(t){return new Nn(this.h,this.c,this.l-Qi*(t??1),this.opacity)},rgb(){return bd(this).rgb()}}));var wd=-.14861,mc=1.78277,gc=-.29227,Bo=-.90649,Dr=1.97294,Uu=Dr*Bo,zu=Dr*mc,qu=mc*gc-Bo*wd;function mb(t){if(t instanceof ce)return new ce(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=pc(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(qu*r+Uu*n-zu*e)/(qu+Uu-zu),o=r-i,a=(Dr*(e-i)-gc*o)/Bo,f=Math.sqrt(a*a+o*o)/(Dr*i*(1-i)),c=f?Math.atan2(a,o)*ld-120:NaN;return new ce(c<0?c+360:c,f,i,t.opacity)}function pn(t,n,e,r){return arguments.length===1?mb(t):new ce(t,n,e,r??1)}function ce(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}er(ce,pn,Zr(Kn,{brighter(t){return t=t==null?He:Math.pow(He,t),new ce(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?he:Math.pow(he,t),new ce(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*sd,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new yt(255*(n+e*(wd*r+mc*i)),255*(n+e*(gc*r+Bo*i)),255*(n+e*(Dr*r)),this.opacity)}}));function gb(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function yb(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return gb((e-r/n)*n,a,i,o,f)}}const Uo=t=>()=>t;function _d(t,n){return function(e){return t+e*n}}function bb(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function yc(t,n){var e=n-t;return e?_d(t,e>180||e<-180?e-360*Math.round(e/360):e):Uo(isNaN(t)?n:t)}function wb(t){return(t=+t)==1?Ct:function(n,e){return e-n?bb(n,e,t):Uo(isNaN(n)?e:n)}}function Ct(t,n){var e=n-t;return e?_d(t,e):Uo(isNaN(t)?n:t)}const me=(function t(n){var e=wb(n);function r(i,o){var a=e((i=Gn(i)).r,(o=Gn(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),u=Ct(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=c(s),i.opacity=u(s),i+""}}return r.gamma=t,r})(1);function _b(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=Gn(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var vb=_b(yb);function xb(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Mb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $b(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Kr(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function Tb(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Tt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Sb(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Kr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var mf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$a=new RegExp(mf.source,"g");function Ab(t){return function(){return t}}function Cb(t){return function(n){return t(n)+""}}function vd(t,n){var e=mf.lastIndex=$a.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=mf.exec(t))&&(i=$a.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:Tt(r,i)})),e=$a.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?Cb(c[0].x):Ab(n):(n=c.length,function(u){for(var s=0,d;s<n;++s)f[(d=c[s]).i]=d.x(u);return f.join("")})}function Kr(t,n){var e=typeof n,r;return n==null||e==="boolean"?Uo(n):(e==="number"?Tt:e==="string"?(r=pe(n))?(n=r,me):vd:n instanceof pe?me:n instanceof Date?Tb:Mb(n)?xb:Array.isArray(n)?$b:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Sb:Tt)(t,n)}function bc(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Yu=180/Math.PI,gf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xd(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Yu,skewX:Math.atan(c)*Yu,scaleX:a,scaleY:f}}var wi;function Eb(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?gf:xd(n.a,n.b,n.c,n.d,n.e,n.f)}function Nb(t){return t==null||(wi||(wi=document.createElementNS("http://www.w3.org/2000/svg","g")),wi.setAttribute("transform",t),!(t=wi.transform.baseVal.consolidate()))?gf:(t=t.matrix,xd(t.a,t.b,t.c,t.d,t.e,t.f))}function Md(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function o(u,s,d,l,h,p){if(u!==d||s!==l){var m=h.push("translate(",null,n,null,e);p.push({i:m-4,x:Tt(u,d)},{i:m-2,x:Tt(s,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function a(u,s,d,l){u!==s?(u-s>180?s+=360:s-u>180&&(u+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Tt(u,s)})):s&&d.push(i(d)+"rotate("+s+r)}function f(u,s,d,l){u!==s?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Tt(u,s)}):s&&d.push(i(d)+"skewX("+s+r)}function c(u,s,d,l,h,p){if(u!==d||s!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Tt(u,d)},{i:m-2,x:Tt(s,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(u,s){var d=[],l=[];return u=t(u),s=t(s),o(u.translateX,u.translateY,s.translateX,s.translateY,d,l),a(u.rotate,s.rotate,d,l),f(u.skewX,s.skewX,d,l),c(u.scaleX,u.scaleY,s.scaleX,s.scaleY,d,l),u=s=null,function(h){for(var p=-1,m=l.length,g;++p<m;)d[(g=l[p]).i]=g.x(h);return d.join("")}}}var kb=Md(Eb,"px, ","px)","deg)"),Lb=Md(Nb,", ",")",")");function Db(t){return function(n,e){var r=t((n=df(n)).h,(e=df(e)).h),i=Ct(n.s,e.s),o=Ct(n.l,e.l),a=Ct(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Ib=Db(yc);function Rb(t,n){var e=Ct((t=hf(t)).l,(n=hf(n)).l),r=Ct(t.a,n.a),i=Ct(t.b,n.b),o=Ct(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Fb(t){return function(n,e){var r=t((n=pf(n)).h,(e=pf(e)).h),i=Ct(n.c,e.c),o=Ct(n.l,e.l),a=Ct(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Pb=Fb(yc);function $d(t){return(function n(e){e=+e;function r(i,o){var a=t((i=pn(i)).h,(o=pn(o)).h),f=Ct(i.s,o.s),c=Ct(i.l,o.l),u=Ct(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=f(s),i.l=c(Math.pow(s,e)),i.opacity=u(s),i+""}}return r.gamma=n,r})(1)}$d(yc);var wc=$d(Ct);function zo(t,n){n===void 0&&(n=t,t=Kr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function Jt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var We=0,gr=0,ur=0,Td=1e3,Ji,yr,to=0,ge=0,qo=0,Ir=typeof performance=="object"&&performance.now?performance:Date,Sd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _c(){return ge||(Sd(Ob),ge=Ir.now()+qo)}function Ob(){ge=0}function no(){this._call=this._time=this._next=null}no.prototype=Ad.prototype={constructor:no,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?_c():+e)+(n==null?0:+n),!this._next&&yr!==this&&(yr?yr._next=this:Ji=this,yr=this),this._call=t,this._time=e,yf()},stop:function(){this._call&&(this._call=null,this._time=1/0,yf())}};function Ad(t,n,e){var r=new no;return r.restart(t,n,e),r}function Bb(){_c(),++We;for(var t=Ji,n;t;)(n=ge-t._time)>=0&&t._call.call(void 0,n),t=t._next;--We}function Hu(){ge=(to=Ir.now())+qo,We=gr=0;try{Bb()}finally{We=0,zb(),ge=0}}function Ub(){var t=Ir.now(),n=t-to;n>Td&&(qo-=n,to=t)}function zb(){for(var t,n=Ji,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ji=e);yr=t,yf(r)}function yf(t){if(!We){gr&&(gr=clearTimeout(gr));var n=t-ge;n>24?(t<1/0&&(gr=setTimeout(Hu,t-Ir.now()-qo)),ur&&(ur=clearInterval(ur))):(ur||(to=Ir.now(),ur=setInterval(Ub,Td)),We=1,Sd(Hu))}}function Wu(t,n,e){var r=new no;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var qb=Kl("start","end","cancel","interrupt"),Yb=[],Cd=0,Vu=1,bf=2,Bi=3,Xu=4,wf=5,Ui=6;function Yo(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Hb(t,e,{name:n,index:r,group:i,on:qb,tween:Yb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Cd})}function vc(t,n){var e=rn(t,n);if(e.state>Cd)throw new Error("too late; already scheduled");return e}function yn(t,n){var e=rn(t,n);if(e.state>Bi)throw new Error("too late; already running");return e}function rn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Hb(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Ad(o,0,e.time);function o(u){e.state=Vu,e.timer.restart(a,e.delay,e.time),e.delay<=u&&a(u-e.delay)}function a(u){var s,d,l,h;if(e.state!==Vu)return c();for(s in r)if(h=r[s],h.name===e.name){if(h.state===Bi)return Wu(a);h.state===Xu?(h.state=Ui,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[s]):+s<n&&(h.state=Ui,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[s])}if(Wu(function(){e.state===Bi&&(e.state=Xu,e.timer.restart(f,e.delay,e.time),f(u))}),e.state=bf,e.on.call("start",t,t.__data__,e.index,e.group),e.state===bf){for(e.state=Bi,i=new Array(l=e.tween.length),s=0,d=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(u){for(var s=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(c),e.state=wf,1),d=-1,l=i.length;++d<l;)i[d].call(t,s);e.state===wf&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=Ui,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function Wb(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>bf&&r.state<wf,r.state=Ui,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function Vb(t){return this.each(function(){Wb(this,t)})}function Xb(t,n){var e,r;return function(){var i=yn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Gb(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=yn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,u=i.length;c<u;++c)if(i[c].name===n){i[c]=f;break}c===u&&i.push(f)}o.tween=i}}function jb(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=rn(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Xb:Gb)(e,t,n))}function xc(t,n,e){var r=t._id;return t.each(function(){var i=yn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return rn(i,r).value[n]}}function Ed(t,n){var e;return(typeof n=="number"?Tt:n instanceof pe?me:(e=pe(n))?(n=e,me):vd)(t,n)}function Zb(t){return function(){this.removeAttribute(t)}}function Kb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Jb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function t2(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function n2(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function e2(t,n){var e=Po(t),r=e==="transform"?Lb:Ed;return this.attrTween(t,typeof n=="function"?(e.local?n2:t2)(e,r,xc(this,"attr."+t,n)):n==null?(e.local?Kb:Zb)(e):(e.local?Jb:Qb)(e,r,n))}function r2(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function i2(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function o2(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&i2(t,o)),e}return i._value=n,i}function a2(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&r2(t,o)),e}return i._value=n,i}function f2(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Po(t);return this.tween(e,(r.local?o2:a2)(r,n))}function c2(t,n){return function(){vc(this,t).delay=+n.apply(this,arguments)}}function u2(t,n){return n=+n,function(){vc(this,t).delay=n}}function s2(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?c2:u2)(n,t)):rn(this.node(),n).delay}function l2(t,n){return function(){yn(this,t).duration=+n.apply(this,arguments)}}function d2(t,n){return n=+n,function(){yn(this,t).duration=n}}function h2(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?l2:d2)(n,t)):rn(this.node(),n).duration}function p2(t,n){if(typeof n!="function")throw new Error;return function(){yn(this,t).ease=n}}function m2(t){var n=this._id;return arguments.length?this.each(p2(n,t)):rn(this.node(),n).ease}function g2(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;yn(this,t).ease=e}}function y2(t){if(typeof t!="function")throw new Error;return this.each(g2(this._id,t))}function b2(t){typeof t!="function"&&(t=Jl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&f.push(c);return new Fn(r,this._parents,this._name,this._id)}function w2(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],u=e[f],s=c.length,d=a[f]=new Array(s),l,h=0;h<s;++h)(l=c[h]||u[h])&&(d[h]=l);for(;f<r;++f)a[f]=n[f];return new Fn(a,this._parents,this._name,this._id)}function _2(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function v2(t,n,e){var r,i,o=_2(n)?vc:yn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function x2(t,n){var e=this._id;return arguments.length<2?rn(this.node(),e).on.on(t):this.each(v2(e,t,n))}function M2(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function $2(){return this.on("end.remove",M2(this._id))}function T2(t){var n=this._name,e=this._id;typeof t!="function"&&(t=dc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,u=o[a]=new Array(c),s,d,l=0;l<c;++l)(s=f[l])&&(d=t.call(s,s.__data__,l,f))&&("__data__"in s&&(d.__data__=s.__data__),u[l]=d,Yo(u[l],n,e,l,u,rn(s,e)));return new Fn(o,this._parents,n,e)}function S2(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ql(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],u=c.length,s,d=0;d<u;++d)if(s=c[d]){for(var l=t.call(s,s.__data__,d,c),h,p=rn(s,e),m=0,g=l.length;m<g;++m)(h=l[m])&&Yo(h,n,e,m,l,p);o.push(l),a.push(s)}return new Fn(o,a,n,e)}var A2=jr.prototype.constructor;function C2(){return new A2(this._groups,this._parents)}function E2(t,n){var e,r,i;return function(){var o=Ye(this,t),a=(this.style.removeProperty(t),Ye(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Nd(t){return function(){this.style.removeProperty(t)}}function N2(t,n,e){var r,i=e+"",o;return function(){var a=Ye(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function k2(t,n,e){var r,i,o;return function(){var a=Ye(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),Ye(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function L2(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=yn(this,t),u=c.on,s=c.value[o]==null?f||(f=Nd(n)):void 0;(u!==e||i!==s)&&(r=(e=u).copy()).on(a,i=s),c.on=r}}function D2(t,n,e){var r=(t+="")=="transform"?kb:Ed;return n==null?this.styleTween(t,E2(t,r)).on("end.style."+t,Nd(t)):typeof n=="function"?this.styleTween(t,k2(t,r,xc(this,"style."+t,n))).each(L2(this._id,t)):this.styleTween(t,N2(t,r,n),e).on("end.style."+t,null)}function I2(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function R2(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&I2(t,a,e)),r}return o._value=n,o}function F2(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,R2(t,n,e??""))}function P2(t){return function(){this.textContent=t}}function O2(t){return function(){var n=t(this);this.textContent=n??""}}function B2(t){return this.tween("text",typeof t=="function"?O2(xc(this,"text",t)):P2(t==null?"":t+""))}function U2(t){return function(n){this.textContent=t.call(this,n)}}function z2(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&U2(i)),n}return r._value=t,r}function q2(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,z2(t))}function Y2(){for(var t=this._name,n=this._id,e=kd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,u=0;u<f;++u)if(c=a[u]){var s=rn(c,n);Yo(c,t,e,u,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Fn(r,this._parents,t,e)}function H2(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var u=yn(this,r),s=u.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),u.on=n}),i===0&&o()})}var W2=0;function Fn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function kd(){return++W2}var xn=jr.prototype;Fn.prototype={constructor:Fn,select:T2,selectAll:S2,selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:b2,merge:w2,selection:C2,transition:Y2,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:x2,attr:e2,attrTween:f2,style:D2,styleTween:F2,text:B2,textTween:q2,remove:$2,tween:jb,delay:s2,duration:h2,ease:m2,easeVarying:y2,end:H2,[Symbol.iterator]:xn[Symbol.iterator]};function V2(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var X2={time:null,delay:0,duration:250,ease:V2};function G2(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function j2(t){var n,e;t instanceof Fn?(n=t._id,t=t._name):(n=kd(),(e=X2).time=_c(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,u=0;u<f;++u)(c=a[u])&&Yo(c,t,n,u,a,e||G2(c,n));return new Fn(r,this._parents,t,n)}jr.prototype.interrupt=Vb;jr.prototype.transition=j2;const _f=Math.PI,vf=2*_f,re=1e-6,Z2=vf-re;function Ld(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function K2(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Ld;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Dd{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Ld:K2(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,u=i-e,s=a-n,d=f-e,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>re)if(!(Math.abs(d*c-u*s)>re)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-a,p=i-f,m=c*c+u*u,g=h*h+p*p,y=Math.sqrt(m),w=Math.sqrt(l),_=o*Math.tan((_f-Math.acos((m+l-g)/(2*y*w)))/2),b=_/w,M=_/y;Math.abs(b-1)>re&&this._append`L${n+b*s},${e+b*d}`,this._append`A${o},${o},0,0,${+(d*h>s*p)},${this._x1=n+M*c},${this._y1=e+M*u}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),u=n+f,s=e+c,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${u},${s}`:(Math.abs(this._x1-u)>re||Math.abs(this._y1-s)>re)&&this._append`L${u},${s}`,r&&(l<0&&(l=l%vf+vf),l>Z2?this._append`A${r},${r},0,1,${d},${n-f},${e-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=s}`:l>re&&this._append`A${r},${r},0,${+(l>=_f)},${d},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xf(t=3){return new Dd(+t)}var Gu={},Ta={},Sa=34,sr=10,Aa=13;function Id(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Q2(t,n){var e=Id(t);return function(r,i){return n(e(r),i,t)}}function ju(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function Nt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function J2(t){return t<0?"-"+Nt(-t,6):t>9999?"+"+Nt(t,6):Nt(t,4)}function tw(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":J2(t.getUTCFullYear())+"-"+Nt(t.getUTCMonth()+1,2)+"-"+Nt(t.getUTCDate(),2)+(i?"T"+Nt(n,2)+":"+Nt(e,2)+":"+Nt(r,2)+"."+Nt(i,3)+"Z":r?"T"+Nt(n,2)+":"+Nt(e,2)+":"+Nt(r,2)+"Z":e||n?"T"+Nt(n,2)+":"+Nt(e,2)+"Z":"")}function nw(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(d,l){var h,p,m=i(d,function(g,y){if(h)return h(g,y-1);p=g,h=l?Q2(g,l):Id(g)});return m.columns=p||[],m}function i(d,l){var h=[],p=d.length,m=0,g=0,y,w=p<=0,_=!1;d.charCodeAt(p-1)===sr&&--p,d.charCodeAt(p-1)===Aa&&--p;function b(){if(w)return Ta;if(_)return _=!1,Gu;var v,x=m,$;if(d.charCodeAt(x)===Sa){for(;m++<p&&d.charCodeAt(m)!==Sa||d.charCodeAt(++m)===Sa;);return(v=m)>=p?w=!0:($=d.charCodeAt(m++))===sr?_=!0:$===Aa&&(_=!0,d.charCodeAt(m)===sr&&++m),d.slice(x+1,v-1).replace(/""/g,'"')}for(;m<p;){if(($=d.charCodeAt(v=m++))===sr)_=!0;else if($===Aa)_=!0,d.charCodeAt(m)===sr&&++m;else if($!==e)continue;return d.slice(x,v)}return w=!0,d.slice(x,p)}for(;(y=b())!==Ta;){for(var M=[];y!==Gu&&y!==Ta;)M.push(y),y=b();l&&(M=l(M,g++))==null||h.push(M)}return h}function o(d,l){return d.map(function(h){return l.map(function(p){return s(h[p])}).join(t)})}function a(d,l){return l==null&&(l=ju(d)),[l.map(s).join(t)].concat(o(d,l)).join(`
`)}function f(d,l){return l==null&&(l=ju(d)),o(d,l).join(`
`)}function c(d){return d.map(u).join(`
`)}function u(d){return d.map(s).join(t)}function s(d){return d==null?"":d instanceof Date?tw(d):n.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:a,formatBody:f,formatRows:c,formatRow:u,formatValue:s}}var ew=nw(","),rw=ew.parse;function iw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eo(t,n){if(!isFinite(t)||t===0)return null;var e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"),r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ve(t){return t=eo(Math.abs(t)),t?t[1]:NaN}function ow(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function aw(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var fw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rr(t){if(!(n=fw.exec(t)))throw new Error("invalid format: "+t);var n;return new Mc({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Rr.prototype=Mc.prototype;function Mc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cw(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ro;function uw(t,n){var e=eo(t,n);if(!e)return ro=void 0,t.toPrecision(n);var r=e[0],i=e[1],o=i-(ro=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eo(t,Math.max(0,n+o-1))[0]}function Zu(t,n){var e=eo(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ku={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iw,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Zu(t*100,n),r:Zu,s:uw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Qu(t){return t}var Ju=Array.prototype.map,ts=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function sw(t){var n=t.grouping===void 0||t.thousands===void 0?Qu:ow(Ju.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Qu:aw(Ju.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"âˆ’":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d,l){d=Rr(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,y=d.zero,w=d.width,_=d.comma,b=d.precision,M=d.trim,v=d.type;v==="n"?(_=!0,v="g"):Ku[v]||(b===void 0&&(b=12),M=!0,v="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var x=(l&&l.prefix!==void 0?l.prefix:"")+(g==="$"?e:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():""),$=(g==="$"?r:/[%p]/.test(v)?a:"")+(l&&l.suffix!==void 0?l.suffix:""),S=Ku[v],N=/[defgprs%]/.test(v);b=b===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(E){var P=x,I=$,T,R,L;if(v==="c")I=S(E)+I,E="";else{E=+E;var H=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),b),M&&(E=cw(E)),H&&+E==0&&m!=="+"&&(H=!1),P=(H?m==="("?m:f:m==="-"||m==="("?"":m)+P,I=(v==="s"&&!isNaN(E)&&ro!==void 0?ts[8+ro/3]:"")+I+(H&&m==="("?")":""),N){for(T=-1,R=E.length;++T<R;)if(L=E.charCodeAt(T),48>L||L>57){I=(L===46?i+E.slice(T+1):E.slice(T))+I,E=E.slice(0,T);break}}}_&&!y&&(E=n(E,1/0));var D=P.length+E.length+I.length,F=D<w?new Array(w-D+1).join(h):"";switch(_&&y&&(E=n(F+E,F.length?w-I.length:1/0),F=""),p){case"<":E=P+E+I+F;break;case"=":E=P+F+E+I;break;case"^":E=F.slice(0,D=F.length>>1)+P+E+I+F.slice(D);break;default:E=F+P+E+I;break}return o(E)}return A.toString=function(){return d+""},A}function s(d,l){var h=Math.max(-8,Math.min(8,Math.floor(Ve(l)/3)))*3,p=Math.pow(10,-h),m=u((d=Rr(d),d.type="f",d),{suffix:ts[8+h/3]});return function(g){return m(p*g)}}return{format:u,formatPrefix:s}}var _i,rr,Rd;lw({thousands:",",grouping:[3],currency:["$",""]});function lw(t){return _i=sw(t),rr=_i.format,Rd=_i.formatPrefix,_i}function dw(t){return Math.max(0,-Ve(Math.abs(t)))}function hw(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ve(n)/3)))*3-Ve(Math.abs(t)))}function pw(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ve(n)-Ve(t))+1}var Z=1e-6,Fd=1e-12,J=Math.PI,st=J/2,ns=J/4,Ot=J*2,Et=180/J,ut=J/180,at=Math.abs,ir=Math.atan,Pn=Math.atan2,K=Math.cos,Pd=Math.exp,io=Math.log,Ca=Math.pow,G=Math.sin,Ht=Math.sign||function(t){return t>0?1:t<0?-1:0},Dt=Math.sqrt,$c=Math.tan;function Od(t){return t>1?0:t<-1?J:Math.acos(t)}function Gt(t){return t>1?st:t<-1?-st:Math.asin(t)}function Wt(){}function oo(t,n){t&&rs.hasOwnProperty(t.type)&&rs[t.type](t,n)}var es={Feature:function(t,n){oo(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)oo(e[r].geometry,n)}},rs={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mf(e[r],n,0)},Polygon:function(t,n){is(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)is(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)oo(e[r],n)}};function Mf(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function is(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mf(t[e],n,1);n.polygonEnd()}function ie(t,n){t&&es.hasOwnProperty(t.type)?es[t.type](t,n):oo(t,n)}function $f(t){return[Pn(t[1],t[0]),Gt(t[2])]}function Xe(t){var n=t[0],e=t[1],r=K(e);return[r*K(n),r*G(n),G(e)]}function vi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ao(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ea(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function xi(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Tf(t){var n=Dt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Sf(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Af(t,n){return at(t)>J&&(t-=Math.round(t/Ot)*Ot),[t,n]}Af.invert=Af;function Bd(t,n,e){return(t%=Ot)?n||e?Sf(as(t),fs(n,e)):as(t):n||e?fs(n,e):Af}function os(t){return function(n,e){return n+=t,at(n)>J&&(n-=Math.round(n/Ot)*Ot),[n,e]}}function as(t){var n=os(t);return n.invert=os(-t),n}function fs(t,n){var e=K(t),r=G(t),i=K(n),o=G(n);function a(f,c){var u=K(c),s=K(f)*u,d=G(f)*u,l=G(c),h=l*e+s*r;return[Pn(d*i-h*o,s*e-l*r),Gt(h*i+d*o)]}return a.invert=function(f,c){var u=K(c),s=K(f)*u,d=G(f)*u,l=G(c),h=l*i-d*o;return[Pn(d*i+l*o,s*e+h*r),Gt(h*e-s*r)]},a}function mw(t){t=Bd(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=Et,e[1]*=Et,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=Et,e[1]*=Et,e},n}function gw(t,n,e,r,i,o){if(e){var a=K(n),f=G(n),c=r*e;i==null?(i=n+r*Ot,o=n-c/2):(i=cs(a,i),o=cs(a,o),(r>0?i<o:i>o)&&(i+=r*Ot));for(var u,s=i;r>0?s>o:s<o;s-=c)u=$f([a,-f*K(s),-f*G(s)]),t.point(u[0],u[1])}}function cs(t,n){n=Xe(n),n[0]-=t,Tf(n);var e=Od(-n[1]);return((-n[2]<0?-e:e)+Ot-Z)%Ot}function Ud(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Wt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function zi(t,n){return at(t[0]-n[0])<Z&&at(t[1]-n[1])<Z}function Mi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function zd(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],w;if(zi(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*Z}o.push(w=new Mi(g,p,null,!0)),a.push(w.o=new Mi(g,null,w,!1)),o.push(w=new Mi(y,p,null,!1)),a.push(w.o=new Mi(y,null,w,!0))}}),!!o.length){for(a.sort(n),us(o),us(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var u=o[0],s,d;;){for(var l=u,h=!0;l.v;)if((l=l.n)===u)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,c=s.length;f<c;++f)i.point((d=s[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(s=l.p.z,f=s.length-1;f>=0;--f)i.point((d=s[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,h=!h}while(!l.v);i.lineEnd()}}}function us(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Na(t){return at(t[0])<=J?t[0]:Ht(t[0])*((at(t[0])+J)%Ot-J)}function yw(t,n){var e=Na(n),r=n[1],i=G(r),o=[G(e),-K(e),0],a=0,f=0,c=new le;i===1?r=st+Z:i===-1&&(r=-st-Z);for(var u=0,s=t.length;u<s;++u)if(l=(d=t[u]).length)for(var d,l,h=d[l-1],p=Na(h),m=h[1]/2+ns,g=G(m),y=K(m),w=0;w<l;++w,p=b,g=v,y=x,h=_){var _=d[w],b=Na(_),M=_[1]/2+ns,v=G(M),x=K(M),$=b-p,S=$>=0?1:-1,N=S*$,A=N>J,E=g*v;if(c.add(Pn(E*S*G(N),y*x+E*K(N))),a+=A?$+S*Ot:$,A^p>=e^b>=e){var P=ao(Xe(h),Xe(_));Tf(P);var I=ao(o,P);Tf(I);var T=(A^$>=0?-1:1)*Gt(I[2]);(r>T||r===T&&(P[0]||P[1]))&&(f+=A^$>=0?1:-1)}}return(a<-Z||a<Z&&c<-Fd)^f&1}function qd(t,n,e,r){return function(i){var o=n(i),a=Ud(),f=n(a),c=!1,u,s,d,l={point:h,lineStart:m,lineEnd:g,polygonStart:function(){l.point=y,l.lineStart=w,l.lineEnd=_,s=[],u=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=g,s=Gl(s);var b=yw(u,r);s.length?(c||(i.polygonStart(),c=!0),zd(s,ww,b,e,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),s=u=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,M){t(b,M)&&i.point(b,M)}function p(b,M){o.point(b,M)}function m(){l.point=p,o.lineStart()}function g(){l.point=h,o.lineEnd()}function y(b,M){d.push([b,M]),f.point(b,M)}function w(){f.lineStart(),d=[]}function _(){y(d[0][0],d[0][1]),f.lineEnd();var b=f.clean(),M=a.result(),v,x=M.length,$,S,N;if(d.pop(),u.push(d),d=null,!!x){if(b&1){if(S=M[0],($=S.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),v=0;v<$;++v)i.point((N=S[v])[0],N[1]);i.lineEnd()}return}x>1&&b&2&&M.push(M.pop().concat(M.shift())),s.push(M.filter(bw))}}return l}}function bw(t){return t.length>1}function ww(t,n){return((t=t.x)[0]<0?t[1]-st-Z:st-t[1])-((n=n.x)[0]<0?n[1]-st-Z:st-n[1])}const ss=qd(function(){return!0},_w,xw,[-J,-st]);function _w(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?J:-J,c=at(o-n);at(c-J)<Z?(t.point(n,e=(e+a)/2>0?st:-st),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=J&&(at(n-r)<Z&&(n-=r*Z),at(o-f)<Z&&(o-=f*Z),e=vw(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function vw(t,n,e,r){var i,o,a=G(t-e);return at(a)>Z?ir((G(n)*(o=K(r))*G(e)-G(r)*(i=K(n))*G(t))/(i*o*a)):(n+r)/2}function xw(t,n,e,r){var i;if(t==null)i=e*st,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(at(t[0]-n[0])>Z){var o=t[0]<n[0]?J:-J;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Mw(t){var n=K(t),e=2*ut,r=n>0,i=at(n)>Z;function o(s,d,l,h){gw(h,t,e,l,s,d)}function a(s,d){return K(s)*K(d)>n}function f(s){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var w=[g,y],_,b=a(g,y),M=r?b?0:u(g,y):b?u(g+(g<0?J:-J),y):0;if(!d&&(p=h=b)&&s.lineStart(),b!==h&&(_=c(d,w),(!_||zi(d,_)||zi(w,_))&&(w[2]=1)),b!==h)m=0,b?(s.lineStart(),_=c(w,d),s.point(_[0],_[1])):(_=c(d,w),s.point(_[0],_[1],2),s.lineEnd()),d=_;else if(i&&d&&r^b){var v;!(M&l)&&(v=c(w,d,!0))&&(m=0,r?(s.lineStart(),s.point(v[0][0],v[0][1]),s.point(v[1][0],v[1][1]),s.lineEnd()):(s.point(v[1][0],v[1][1]),s.lineEnd(),s.lineStart(),s.point(v[0][0],v[0][1],3)))}b&&(!d||!zi(d,w))&&s.point(w[0],w[1]),d=w,h=b,l=M},lineEnd:function(){h&&s.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function c(s,d,l){var h=Xe(s),p=Xe(d),m=[1,0,0],g=ao(h,p),y=vi(g,g),w=g[0],_=y-w*w;if(!_)return!l&&s;var b=n*y/_,M=-n*w/_,v=ao(m,g),x=xi(m,b),$=xi(g,M);Ea(x,$);var S=v,N=vi(x,S),A=vi(S,S),E=N*N-A*(vi(x,x)-1);if(!(E<0)){var P=Dt(E),I=xi(S,(-N-P)/A);if(Ea(I,x),I=$f(I),!l)return I;var T=s[0],R=d[0],L=s[1],H=d[1],D;R<T&&(D=T,T=R,R=D);var F=R-T,z=at(F-J)<Z,q=z||F<Z;if(!z&&H<L&&(D=L,L=H,H=D),q?z?L+H>0^I[1]<(at(I[0]-T)<Z?L:H):L<=I[1]&&I[1]<=H:F>J^(T<=I[0]&&I[0]<=R)){var U=xi(S,(-N+P)/A);return Ea(U,x),[I,$f(U)]}}}function u(s,d){var l=r?t:J-t,h=0;return s<-l?h|=1:s>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return qd(a,f,o,r?[0,-t]:[-J,t-J])}function $w(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],u=n[1],s=0,d=1,l=c-a,h=u-f,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>s&&(s=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>s&&(s=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<d&&(d=p)}return s>0&&(t[0]=a+s*l,t[1]=f+s*h),d<1&&(n[0]=a+d*l,n[1]=f+d*h),!0}}}}}var br=1e9,$i=-br;function Yd(t,n,e,r){function i(u,s){return t<=u&&u<=e&&n<=s&&s<=r}function o(u,s,d,l){var h=0,p=0;if(u==null||(h=a(u,d))!==(p=a(s,d))||c(u,s)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(s[0],s[1])}function a(u,s){return at(u[0]-t)<Z?s>0?0:3:at(u[0]-e)<Z?s>0?2:1:at(u[1]-n)<Z?s>0?1:0:s>0?3:2}function f(u,s){return c(u.x,s.x)}function c(u,s){var d=a(u,1),l=a(s,1);return d!==l?d-l:d===0?s[1]-u[1]:d===1?u[0]-s[0]:d===2?u[1]-s[1]:s[0]-u[0]}return function(u){var s=u,d=Ud(),l,h,p,m,g,y,w,_,b,M,v,x={point:$,lineStart:E,lineEnd:P,polygonStart:N,polygonEnd:A};function $(T,R){i(T,R)&&s.point(T,R)}function S(){for(var T=0,R=0,L=h.length;R<L;++R)for(var H=h[R],D=1,F=H.length,z=H[0],q,U,Q=z[0],tt=z[1];D<F;++D)q=Q,U=tt,z=H[D],Q=z[0],tt=z[1],U<=r?tt>r&&(Q-q)*(r-U)>(tt-U)*(t-q)&&++T:tt<=r&&(Q-q)*(r-U)<(tt-U)*(t-q)&&--T;return T}function N(){s=d,l=[],h=[],v=!0}function A(){var T=S(),R=v&&T,L=(l=Gl(l)).length;(R||L)&&(u.polygonStart(),R&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),L&&zd(l,f,T,o,u),u.polygonEnd()),s=u,l=h=p=null}function E(){x.point=I,h&&h.push(p=[]),M=!0,b=!1,w=_=NaN}function P(){l&&(I(m,g),y&&b&&d.rejoin(),l.push(d.result())),x.point=$,b&&s.lineEnd()}function I(T,R){var L=i(T,R);if(h&&p.push([T,R]),M)m=T,g=R,y=L,M=!1,L&&(s.lineStart(),s.point(T,R));else if(L&&b)s.point(T,R);else{var H=[w=Math.max($i,Math.min(br,w)),_=Math.max($i,Math.min(br,_))],D=[T=Math.max($i,Math.min(br,T)),R=Math.max($i,Math.min(br,R))];$w(H,D,t,n,e,r)?(b||(s.lineStart(),s.point(H[0],H[1])),s.point(D[0],D[1]),L||s.lineEnd(),v=!1):L&&(s.lineStart(),s.point(T,R),v=!1)}w=T,_=R,b=L}return x}}const Cf=t=>t;var ka=new le,Ef=new le,Hd,Wd,Nf,kf,En={point:Wt,lineStart:Wt,lineEnd:Wt,polygonStart:function(){En.lineStart=Tw,En.lineEnd=Aw},polygonEnd:function(){En.lineStart=En.lineEnd=En.point=Wt,ka.add(at(Ef)),Ef=new le},result:function(){var t=ka/2;return ka=new le,t}};function Tw(){En.point=Sw}function Sw(t,n){En.point=Vd,Hd=Nf=t,Wd=kf=n}function Vd(t,n){Ef.add(kf*t-Nf*n),Nf=t,kf=n}function Aw(){Vd(Hd,Wd)}var Ge=1/0,fo=Ge,Fr=-Ge,co=Fr,uo={point:Cw,lineStart:Wt,lineEnd:Wt,polygonStart:Wt,polygonEnd:Wt,result:function(){var t=[[Ge,fo],[Fr,co]];return Fr=co=-(fo=Ge=1/0),t}};function Cw(t,n){t<Ge&&(Ge=t),t>Fr&&(Fr=t),n<fo&&(fo=n),n>co&&(co=n)}var Lf=0,Df=0,wr=0,so=0,lo=0,Ie=0,If=0,Rf=0,_r=0,Xd,Gd,cn,un,qt={point:ye,lineStart:ls,lineEnd:ds,polygonStart:function(){qt.lineStart=kw,qt.lineEnd=Lw},polygonEnd:function(){qt.point=ye,qt.lineStart=ls,qt.lineEnd=ds},result:function(){var t=_r?[If/_r,Rf/_r]:Ie?[so/Ie,lo/Ie]:wr?[Lf/wr,Df/wr]:[NaN,NaN];return Lf=Df=wr=so=lo=Ie=If=Rf=_r=0,t}};function ye(t,n){Lf+=t,Df+=n,++wr}function ls(){qt.point=Ew}function Ew(t,n){qt.point=Nw,ye(cn=t,un=n)}function Nw(t,n){var e=t-cn,r=n-un,i=Dt(e*e+r*r);so+=i*(cn+t)/2,lo+=i*(un+n)/2,Ie+=i,ye(cn=t,un=n)}function ds(){qt.point=ye}function kw(){qt.point=Dw}function Lw(){jd(Xd,Gd)}function Dw(t,n){qt.point=jd,ye(Xd=cn=t,Gd=un=n)}function jd(t,n){var e=t-cn,r=n-un,i=Dt(e*e+r*r);so+=i*(cn+t)/2,lo+=i*(un+n)/2,Ie+=i,i=un*t-cn*n,If+=i*(cn+t),Rf+=i*(un+n),_r+=i*3,ye(cn=t,un=n)}function Zd(t){this._context=t}Zd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ot);break}}},result:Wt};var Ff=new le,La,Kd,Qd,vr,xr,Pr={point:Wt,lineStart:function(){Pr.point=Iw},lineEnd:function(){La&&Jd(Kd,Qd),Pr.point=Wt},polygonStart:function(){La=!0},polygonEnd:function(){La=null},result:function(){var t=+Ff;return Ff=new le,t}};function Iw(t,n){Pr.point=Jd,Kd=vr=t,Qd=xr=n}function Jd(t,n){vr-=t,xr-=n,Ff.add(Dt(vr*vr+xr*xr)),vr=t,xr=n}let hs,ho,ps,ms;class gs{constructor(n){this._append=n==null?th:Rw(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==ps||this._append!==ho){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ps=r,ho=this._append,ms=this._,this._=i}this._+=ms;break}}}result(){const n=this._;return this._="",n.length?n:null}}function th(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Rw(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return th;if(n!==hs){const e=10**n;hs=n,ho=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return ho}function Tc(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ie(f,i(o))),o.result()}return a.area=function(f){return ie(f,i(En)),En.result()},a.measure=function(f){return ie(f,i(Pr)),Pr.result()},a.bounds=function(f){return ie(f,i(uo)),uo.result()},a.centroid=function(f){return ie(f,i(qt)),qt.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,Cf):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new gs(e)):new Zd(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new gs(e)),a},a.projection(t).digits(e).context(n)}function po(t){return{stream:Ho(t)}}function Ho(t){return function(n){var e=new Pf;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Pf(){}Pf.prototype={constructor:Pf,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Sc(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ie(e,t.stream(uo)),n(uo.result()),r!=null&&t.clipExtent(r),t}function Ac(t,n,e){return Sc(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function nh(t,n,e){return Ac(t,[[0,0],n],e)}function eh(t,n,e){return Sc(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function rh(t,n,e){return Sc(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var ys=16,Fw=K(30*ut);function bs(t,n){return+n?Ow(t,n):Pw(t)}function Pw(t){return Ho({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Ow(t,n){function e(r,i,o,a,f,c,u,s,d,l,h,p,m,g){var y=u-r,w=s-i,_=y*y+w*w;if(_>4*n&&m--){var b=a+l,M=f+h,v=c+p,x=Dt(b*b+M*M+v*v),$=Gt(v/=x),S=at(at(v)-1)<Z||at(o-d)<Z?(o+d)/2:Pn(M,b),N=t(S,$),A=N[0],E=N[1],P=A-r,I=E-i,T=w*P-y*I;(T*T/_>n||at((y*P+w*I)/_-.5)>.3||a*l+f*h+c*p<Fw)&&(e(r,i,o,a,f,c,A,E,S,b/=x,M/=x,v,m,g),g.point(A,E),e(A,E,S,b,M,v,u,s,d,l,h,p,m,g))}}return function(r){var i,o,a,f,c,u,s,d,l,h,p,m,g={point:y,lineStart:w,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=M},polygonEnd:function(){r.polygonEnd(),g.lineStart=w}};function y($,S){$=t($,S),r.point($[0],$[1])}function w(){d=NaN,g.point=_,r.lineStart()}function _($,S){var N=Xe([$,S]),A=t($,S);e(d,l,s,h,p,m,d=A[0],l=A[1],s=$,h=N[0],p=N[1],m=N[2],ys,r),r.point(d,l)}function b(){g.point=y,r.lineEnd()}function M(){w(),g.point=v,g.lineEnd=x}function v($,S){_(i=$,S),o=d,a=l,f=h,c=p,u=m,g.point=_}function x(){e(d,l,s,h,p,m,o,a,i,f,c,u,ys,r),g.lineEnd=b,b()}return g}}var Bw=Ho({point:function(t,n){this.stream.point(t*ut,n*ut)}});function Uw(t){return Ho({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function zw(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function ws(t,n,e,r,i,o){if(!o)return zw(t,n,e,r,i);var a=K(o),f=G(o),c=a*t,u=f*t,s=a/t,d=f/t,l=(f*e-a*n)/t,h=(f*n+a*e)/t;function p(m,g){return m*=r,g*=i,[c*m-u*g+n,e-u*m-c*g]}return p.invert=function(m,g){return[r*(s*m-d*g+l),i*(h-d*m-s*g)]},p}function Qn(t){return ih(function(){return t})()}function ih(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,u=0,s,d=0,l=1,h=1,p=null,m=ss,g=null,y,w,_,b=Cf,M=.5,v,x,$,S,N;function A(T){return $(T[0]*ut,T[1]*ut)}function E(T){return T=$.invert(T[0],T[1]),T&&[T[0]*Et,T[1]*Et]}A.stream=function(T){return S&&N===T?S:S=Bw(Uw(s)(m(v(b(N=T)))))},A.preclip=function(T){return arguments.length?(m=T,p=void 0,I()):m},A.postclip=function(T){return arguments.length?(b=T,g=y=w=_=null,I()):b},A.clipAngle=function(T){return arguments.length?(m=+T?Mw(p=T*ut):(p=null,ss),I()):p*Et},A.clipExtent=function(T){return arguments.length?(b=T==null?(g=y=w=_=null,Cf):Yd(g=+T[0][0],y=+T[0][1],w=+T[1][0],_=+T[1][1]),I()):g==null?null:[[g,y],[w,_]]},A.scale=function(T){return arguments.length?(e=+T,P()):e},A.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],P()):[r,i]},A.center=function(T){return arguments.length?(o=T[0]%360*ut,a=T[1]%360*ut,P()):[o*Et,a*Et]},A.rotate=function(T){return arguments.length?(f=T[0]%360*ut,c=T[1]%360*ut,u=T.length>2?T[2]%360*ut:0,P()):[f*Et,c*Et,u*Et]},A.angle=function(T){return arguments.length?(d=T%360*ut,P()):d*Et},A.reflectX=function(T){return arguments.length?(l=T?-1:1,P()):l<0},A.reflectY=function(T){return arguments.length?(h=T?-1:1,P()):h<0},A.precision=function(T){return arguments.length?(v=bs(x,M=T*T),I()):Dt(M)},A.fitExtent=function(T,R){return Ac(A,T,R)},A.fitSize=function(T,R){return nh(A,T,R)},A.fitWidth=function(T,R){return eh(A,T,R)},A.fitHeight=function(T,R){return rh(A,T,R)};function P(){var T=ws(e,0,0,l,h,d).apply(null,n(o,a)),R=ws(e,r-T[0],i-T[1],l,h,d);return s=Bd(f,c,u),x=Sf(n,R),$=Sf(s,x),v=bs(x,M),I()}function I(){return S=N=null,A}return function(){return n=t.apply(this,arguments),A.invert=n.invert&&E,P()}}function Cc(t){var n=0,e=J/3,r=ih(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ut,e=o[1]*ut):[n*Et,e*Et]},i}function qw(t){var n=K(t);function e(r,i){return[r*n,G(i)/n]}return e.invert=function(r,i){return[r/n,Gt(i*n)]},e}function Yw(t,n){var e=G(t),r=(e+G(n))/2;if(at(r)<Z)return qw(t);var i=1+e*(2*r-e),o=Dt(i)/r;function a(f,c){var u=Dt(i-2*r*G(c))/r;return[u*G(f*=r),o-u*K(f)]}return a.invert=function(f,c){var u=o-c,s=Pn(f,at(u))*Ht(u);return u*r<0&&(s-=J*Ht(f)*Ht(u)),[s/r,Gt((i-(f*f+u*u)*r*r)/(2*r))]},a}function mo(){return Cc(Yw).scale(155.424).center([0,33.6442])}function oh(){return mo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Hw(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function Ww(){var t,n,e=oh(),r,i=mo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=mo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,u={point:function(l,h){c=[l,h]}};function s(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(f.point(h,p),c)}s.invert=function(l){var h=e.scale(),p=e.translate(),m=(l[0]-p[0])/h,g=(l[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:e).invert(l)},s.stream=function(l){return t&&n===l?t:t=Hw([e.stream(n=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),d()):e.precision()},s.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),s.translate(e.translate())):e.scale()},s.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],m=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Z,m+.12*h+Z],[p-.214*h-Z,m+.234*h-Z]]).stream(u),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Z,m+.166*h+Z],[p-.115*h-Z,m+.234*h-Z]]).stream(u),d()},s.fitExtent=function(l,h){return Ac(s,l,h)},s.fitSize=function(l,h){return nh(s,l,h)},s.fitWidth=function(l,h){return eh(s,l,h)},s.fitHeight=function(l,h){return rh(s,l,h)};function d(){return t=n=null,s}return s.scale(1070)}function ah(t){return function(n,e){var r=K(n),i=K(e),o=t(r*i);return o===1/0?[2,0]:[o*i*G(n),o*G(e)]}}function Qr(t){return function(n,e){var r=Dt(n*n+e*e),i=t(r),o=G(i),a=K(i);return[Pn(n*o,r*a),Gt(r&&e*o/r)]}}var fh=ah(function(t){return Dt(2/(1+t))});fh.invert=Qr(function(t){return 2*Gt(t/2)});function Vw(){return Qn(fh).scale(124.75).clipAngle(180-.001)}var ch=ah(function(t){return(t=Od(t))&&t/G(t)});ch.invert=Qr(function(t){return t});function Xw(){return Qn(ch).scale(79.4188).clipAngle(180-.001)}function Wo(t,n){return[t,io($c((st+n)/2))]}Wo.invert=function(t,n){return[t,2*ir(Pd(n))-st]};function Gw(){return uh(Wo).scale(961/Ot)}function uh(t){var n=Qn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,u;n.scale=function(d){return arguments.length?(r(d),s()):r()},n.translate=function(d){return arguments.length?(i(d),s()):i()},n.center=function(d){return arguments.length?(e(d),s()):e()},n.clipExtent=function(d){return arguments.length?(d==null?a=f=c=u=null:(a=+d[0][0],f=+d[0][1],c=+d[1][0],u=+d[1][1]),s()):a==null?null:[[a,f],[c,u]]};function s(){var d=J*r(),l=n(mw(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===Wo?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,c),u]]:[[a,Math.max(l[1]-d,f)],[c,Math.min(l[1]+d,u)]])}return s()}function Ti(t){return $c((st+t)/2)}function jw(t,n){var e=K(t),r=t===n?G(t):io(e/K(n))/io(Ti(n)/Ti(t)),i=e*Ca(Ti(t),r)/r;if(!r)return Wo;function o(a,f){i>0?f<-st+Z&&(f=-st+Z):f>st-Z&&(f=st-Z);var c=i/Ca(Ti(f),r);return[c*G(r*a),i-c*K(r*a)]}return o.invert=function(a,f){var c=i-f,u=Ht(r)*Dt(a*a+c*c),s=Pn(a,at(c))*Ht(c);return c*r<0&&(s-=J*Ht(a)*Ht(c)),[s/r,2*ir(Ca(i/u,1/r))-st]},o}function Zw(){return Cc(jw).scale(109.5).parallels([30,30])}function go(t,n){return[t,n]}go.invert=go;function Kw(){return Qn(go).scale(152.63)}function Qw(t,n){var e=K(t),r=t===n?G(t):(e-K(n))/(n-t),i=e/r+t;if(at(r)<Z)return go;function o(a,f){var c=i-f,u=r*a;return[c*G(u),i-c*K(u)]}return o.invert=function(a,f){var c=i-f,u=Pn(a,at(c))*Ht(c);return c*r<0&&(u-=J*Ht(a)*Ht(c)),[u/r,i-Ht(r)*Dt(a*a+c*c)]},o}function Jw(){return Cc(Qw).scale(131.154).center([0,13.9389])}var Sr=1.340264,Ar=-.081106,Cr=893e-6,Er=.003796,yo=Dt(3)/2,t_=12;function sh(t,n){var e=Gt(yo*G(n)),r=e*e,i=r*r*r;return[t*K(e)/(yo*(Sr+3*Ar*r+i*(7*Cr+9*Er*r))),e*(Sr+Ar*r+i*(Cr+Er*r))]}sh.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<t_&&(f=e*(Sr+Ar*r+i*(Cr+Er*r))-n,c=Sr+3*Ar*r+i*(7*Cr+9*Er*r),e-=a=f/c,r=e*e,i=r*r*r,!(at(a)<Fd));++o);return[yo*t*(Sr+3*Ar*r+i*(7*Cr+9*Er*r))/K(e),Gt(G(e)/yo)]};function n_(){return Qn(sh).scale(177.158)}function lh(t,n){var e=K(n),r=K(t)*e;return[e*G(t)/r,G(n)/r]}lh.invert=Qr(ir);function e_(){return Qn(lh).scale(144.049).clipAngle(60)}function dh(t,n){return[K(n)*G(t),G(n)]}dh.invert=Qr(Gt);function r_(){return Qn(dh).scale(249.5).clipAngle(90+Z)}function hh(t,n){var e=K(n),r=1+K(t)*e;return[e*G(t)/r,G(n)/r]}hh.invert=Qr(function(t){return 2*ir(t)});function i_(){return Qn(hh).scale(250).clipAngle(142)}function ph(t,n){return[io($c((st+n)/2)),-t]}ph.invert=function(t,n){return[-n,2*ir(Pd(t))-st]};function o_(){var t=uh(ph),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function bn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Vo(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Of=Symbol("implicit");function Ec(){var t=new de,n=[],e=[],r=Of;function i(o){let a=t.get(o);if(a===void 0){if(r!==Of)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new de;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ec(n,e).unknown(r)},bn.apply(i,arguments),i}function Xo(){var t=Ec().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,u=0,s=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,l-c+u*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-c))*s,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var g=sf(l).map(function(y){return p+o*y});return e(h?g.reverse():g)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,u=+l),d()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},t.paddingOuter=function(l){return arguments.length?(u=+l,d()):u},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},t.copy=function(){return Xo(n(),[r,i]).round(f).paddingInner(c).paddingOuter(u).align(s)},bn.apply(d(),arguments)}function mh(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mh(n())},t}function a_(){return mh(Xo.apply(null,arguments).paddingInner(1))}function f_(t){return function(){return t}}function Bf(t){return+t}var _s=[0,1];function Vt(t){return t}function Uf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:f_(isNaN(n)?NaN:.5)}function c_(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function u_(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Uf(i,r),o=e(a,o)):(r=Uf(r,i),o=e(o,a)),function(f){return o(r(f))}}function s_(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Uf(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=Lo(t,f,1,r)-1;return o[c](i[c](f))}}function Jr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Go(){var t=_s,n=_s,e=Kr,r,i,o,a=Vt,f,c,u;function s(){var l=Math.min(t.length,n.length);return a!==Vt&&(a=c_(t[0],t[l-1])),f=l>2?s_:u_,c=u=null,d}function d(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),n,e)))(r(a(l)))}return d.invert=function(l){return a(i((u||(u=f(n,t.map(r),Tt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Bf),s()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),s()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=bc,s()},d.clamp=function(l){return arguments.length?(a=l?!0:Vt,s()):a!==Vt},d.interpolate=function(l){return arguments.length?(e=l,s()):e},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,s()}}function gh(){return Go()(Vt,Vt)}function l_(t,n,e,r){var i=uf(t,n,e),o;switch(r=Rr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=hw(i,a))&&(r.precision=o),Rd(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pw(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=dw(i))&&(r.precision=o-(r.type==="%")*2);break}}return rr(r)}function ti(t){var n=t.domain;return t.ticks=function(e){var r=n();return kr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return l_(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,u,s=10;for(f<a&&(u=a,a=f,f=u,u=i,i=o,o=u);s-- >0;){if(u=Xi(a,f,e),u===c)return r[i]=a,r[o]=f,n(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;c=u}return t},t}function Nc(){var t=gh();return t.copy=function(){return Jr(t,Nc())},bn.apply(t,arguments),ti(t)}function yh(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Bf),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return yh(t).unknown(n)},t=arguments.length?Array.from(t,Bf):[0,1],ti(e)}function bh(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function vs(t){return Math.log(t)}function xs(t){return Math.exp(t)}function d_(t){return-Math.log(-t)}function h_(t){return-Math.exp(-t)}function p_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function m_(t){return t===10?p_:t===Math.E?Math.exp:n=>Math.pow(t,n)}function g_(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Ms(t){return(n,e)=>-t(-n,e)}function wh(t){const n=t(vs,xs),e=n.domain;let r=10,i,o;function a(){return i=g_(r),o=m_(r),e()[0]<0?(i=Ms(i),o=Ms(o),t(d_,h_)):t(vs,xs),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let u=c[0],s=c[c.length-1];const d=s<u;d&&([u,s]=[s,u]);let l=i(u),h=i(s),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-l<g){if(l=Math.floor(l),h=Math.ceil(h),u>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<u)){if(m>s)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<u)){if(m>s)break;y.push(m)}y.length*2<g&&(y=kr(u,s,g))}else y=kr(l,h,Math.min(h-l,g)).map(o);return d?y.reverse():y},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Rr(c)).precision==null&&(c.trim=!0),c=rr(c)),f===1/0)return c;const u=Math.max(1,r*f/n.ticks().length);return s=>{let d=s/o(Math.round(i(s)));return d*r<r-.5&&(d*=r),d<=u?c(s):""}},n.nice=()=>e(bh(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function _h(){const t=wh(Go()).domain([1,10]);return t.copy=()=>Jr(t,_h()).base(t.base()),bn.apply(t,arguments),t}function $s(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Ts(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function vh(t){var n=1,e=t($s(n),Ts(n));return e.constant=function(r){return arguments.length?t($s(n=+r),Ts(n)):n},ti(e)}function xh(){var t=vh(Go());return t.copy=function(){return Jr(t,xh()).constant(t.constant())},bn.apply(t,arguments)}function Ss(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function y_(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function b_(t){return t<0?-t*t:t*t}function Mh(t){var n=t(Vt,Vt),e=1;function r(){return e===1?t(Vt,Vt):e===.5?t(y_,b_):t(Ss(e),Ss(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},ti(n)}function $h(){var t=Mh(Go());return t.copy=function(){return Jr(t,$h()).exponent(t.exponent())},bn.apply(t,arguments),t}function Th(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=fg(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Lo(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(xt),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return Th().domain(t).range(n).unknown(r)},bn.apply(o,arguments)}function Sh(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Lo(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Sh().domain(t).range(n).unknown(e)},bn.apply(i,arguments)}const Da=new Date,Ia=new Date;function pt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let u;do c.push(u=new Date(+o)),n(o,f),t(o);while(u<o&&o<a);return c},i.filter=o=>pt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Da.setTime(+o),Ia.setTime(+a),t(Da),t(Ia),Math.floor(e(Da,Ia))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const bo=pt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);bo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):bo);bo.range;const kn=1e3,Xt=kn*60,Ln=Xt*60,On=Ln*24,kc=On*7,As=On*30,Ra=On*365,Qt=pt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*kn)},(t,n)=>(n-t)/kn,t=>t.getUTCSeconds());Qt.range;const ni=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn)},(t,n)=>{t.setTime(+t+n*Xt)},(t,n)=>(n-t)/Xt,t=>t.getMinutes());ni.range;const ei=pt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Xt)},(t,n)=>(n-t)/Xt,t=>t.getUTCMinutes());ei.range;const ri=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn-t.getMinutes()*Xt)},(t,n)=>{t.setTime(+t+n*Ln)},(t,n)=>(n-t)/Ln,t=>t.getHours());ri.range;const ii=pt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Ln)},(t,n)=>(n-t)/Ln,t=>t.getUTCHours());ii.range;const _e=pt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/On,t=>t.getDate()-1);_e.range;const jo=pt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/On,t=>t.getUTCDate()-1);jo.range;const Zo=pt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/On,t=>Math.floor(t/On));Zo.range;function ve(t){return pt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Xt)/kc)}const je=ve(0),Or=ve(1),Ah=ve(2),Ch=ve(3),be=ve(4),Eh=ve(5),Nh=ve(6);je.range;Or.range;Ah.range;Ch.range;be.range;Eh.range;Nh.range;function xe(t){return pt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/kc)}const Ze=xe(0),Br=xe(1),kh=xe(2),Lh=xe(3),we=xe(4),Dh=xe(5),Ih=xe(6);Ze.range;Br.range;kh.range;Lh.range;we.range;Dh.range;Ih.range;const oi=pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());oi.range;const ai=pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ai.range;const tn=pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());tn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});tn.range;const nn=pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});nn.range;function Rh(t,n,e,r,i,o){const a=[[Qt,1,kn],[Qt,5,5*kn],[Qt,15,15*kn],[Qt,30,30*kn],[o,1,Xt],[o,5,5*Xt],[o,15,15*Xt],[o,30,30*Xt],[i,1,Ln],[i,3,3*Ln],[i,6,6*Ln],[i,12,12*Ln],[r,1,On],[r,2,2*On],[e,1,kc],[n,1,As],[n,3,3*As],[t,1,Ra]];function f(u,s,d){const l=s<u;l&&([u,s]=[s,u]);const h=d&&typeof d.range=="function"?d:c(u,s,d),p=h?h.range(u,+s+1):[];return l?p.reverse():p}function c(u,s,d){const l=Math.abs(s-u)/d,h=ko(([,,g])=>g).right(a,l);if(h===a.length)return t.every(uf(u/Ra,s/Ra,d));if(h===0)return bo.every(Math.max(uf(u,s,d),1));const[p,m]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(m)}return[f,c]}const[w_,Fh]=Rh(nn,ai,Ze,Zo,ii,ei),[__,v_]=Rh(tn,oi,je,_e,ri,ni);function Fa(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pa(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function x_(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,u=dr(i),s=hr(i),d=dr(o),l=hr(o),h=dr(a),p=hr(a),m=dr(f),g=hr(f),y=dr(c),w=hr(c),_={a:L,A:H,b:D,B:F,c:null,d:Ds,e:Ds,f:W_,g:n6,G:r6,H:q_,I:Y_,j:H_,L:Ph,m:V_,M:X_,p:z,q,Q:Fs,s:Ps,S:G_,u:j_,U:Z_,V:K_,w:Q_,W:J_,x:null,X:null,y:t6,Y:e6,Z:i6,"%":Rs},b={a:U,A:Q,b:tt,B:nt,c:null,d:Is,e:Is,f:c6,g:b6,G:_6,H:o6,I:a6,j:f6,L:Bh,m:u6,M:s6,p:B,q:X,Q:Fs,s:Ps,S:l6,u:d6,U:h6,V:p6,w:m6,W:g6,x:null,X:null,y:y6,Y:w6,Z:v6,"%":Rs},M={a:N,A,b:E,B:P,c:I,d:ks,e:ks,f:O_,g:Ns,G:Es,H:Ls,I:Ls,j:I_,L:P_,m:D_,M:R_,p:S,q:L_,Q:U_,s:z_,S:F_,u:A_,U:C_,V:E_,w:S_,W:N_,x:T,X:R,y:Ns,Y:Es,Z:k_,"%":B_};_.x=v(e,_),_.X=v(r,_),_.c=v(n,_),b.x=v(e,b),b.X=v(r,b),b.c=v(n,b);function v(k,O){return function(Y){var C=[],et=-1,W=0,ot=k.length,ct,$t,Yn;for(Y instanceof Date||(Y=new Date(+Y));++et<ot;)k.charCodeAt(et)===37&&(C.push(k.slice(W,et)),($t=Cs[ct=k.charAt(++et)])!=null?ct=k.charAt(++et):$t=ct==="e"?" ":"0",(Yn=O[ct])&&(ct=Yn(Y,$t)),C.push(ct),W=et+1);return C.push(k.slice(W,et)),C.join("")}}function x(k,O){return function(Y){var C=lr(1900,void 0,1),et=$(C,k,Y+="",0),W,ot;if(et!=Y.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(O&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(W=Pa(lr(C.y,0,1)),ot=W.getUTCDay(),W=ot>4||ot===0?Br.ceil(W):Br(W),W=jo.offset(W,(C.V-1)*7),C.y=W.getUTCFullYear(),C.m=W.getUTCMonth(),C.d=W.getUTCDate()+(C.w+6)%7):(W=Fa(lr(C.y,0,1)),ot=W.getDay(),W=ot>4||ot===0?Or.ceil(W):Or(W),W=_e.offset(W,(C.V-1)*7),C.y=W.getFullYear(),C.m=W.getMonth(),C.d=W.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ot="Z"in C?Pa(lr(C.y,0,1)).getUTCDay():Fa(lr(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ot+5)%7:C.w+C.U*7-(ot+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,Pa(C)):Fa(C)}}function $(k,O,Y,C){for(var et=0,W=O.length,ot=Y.length,ct,$t;et<W;){if(C>=ot)return-1;if(ct=O.charCodeAt(et++),ct===37){if(ct=O.charAt(et++),$t=M[ct in Cs?O.charAt(et++):ct],!$t||(C=$t(k,Y,C))<0)return-1}else if(ct!=Y.charCodeAt(C++))return-1}return C}function S(k,O,Y){var C=u.exec(O.slice(Y));return C?(k.p=s.get(C[0].toLowerCase()),Y+C[0].length):-1}function N(k,O,Y){var C=h.exec(O.slice(Y));return C?(k.w=p.get(C[0].toLowerCase()),Y+C[0].length):-1}function A(k,O,Y){var C=d.exec(O.slice(Y));return C?(k.w=l.get(C[0].toLowerCase()),Y+C[0].length):-1}function E(k,O,Y){var C=y.exec(O.slice(Y));return C?(k.m=w.get(C[0].toLowerCase()),Y+C[0].length):-1}function P(k,O,Y){var C=m.exec(O.slice(Y));return C?(k.m=g.get(C[0].toLowerCase()),Y+C[0].length):-1}function I(k,O,Y){return $(k,n,O,Y)}function T(k,O,Y){return $(k,e,O,Y)}function R(k,O,Y){return $(k,r,O,Y)}function L(k){return a[k.getDay()]}function H(k){return o[k.getDay()]}function D(k){return c[k.getMonth()]}function F(k){return f[k.getMonth()]}function z(k){return i[+(k.getHours()>=12)]}function q(k){return 1+~~(k.getMonth()/3)}function U(k){return a[k.getUTCDay()]}function Q(k){return o[k.getUTCDay()]}function tt(k){return c[k.getUTCMonth()]}function nt(k){return f[k.getUTCMonth()]}function B(k){return i[+(k.getUTCHours()>=12)]}function X(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var O=v(k+="",_);return O.toString=function(){return k},O},parse:function(k){var O=x(k+="",!1);return O.toString=function(){return k},O},utcFormat:function(k){var O=v(k+="",b);return O.toString=function(){return k},O},utcParse:function(k){var O=x(k+="",!0);return O.toString=function(){return k},O}}}var Cs={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,M_=/^%/,$_=/[\\^$*+?|[\]().{}]/g;function rt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function T_(t){return t.replace($_,"\\$&")}function dr(t){return new RegExp("^(?:"+t.map(T_).join("|")+")","i")}function hr(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function S_(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function A_(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function C_(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function E_(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function N_(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Es(t,n,e){var r=wt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ns(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function k_(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function L_(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function D_(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ks(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function I_(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ls(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function R_(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function F_(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function P_(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function O_(t,n,e){var r=wt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function B_(t,n,e){var r=M_.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function U_(t,n,e){var r=wt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function z_(t,n,e){var r=wt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Ds(t,n){return rt(t.getDate(),n,2)}function q_(t,n){return rt(t.getHours(),n,2)}function Y_(t,n){return rt(t.getHours()%12||12,n,2)}function H_(t,n){return rt(1+_e.count(tn(t),t),n,3)}function Ph(t,n){return rt(t.getMilliseconds(),n,3)}function W_(t,n){return Ph(t,n)+"000"}function V_(t,n){return rt(t.getMonth()+1,n,2)}function X_(t,n){return rt(t.getMinutes(),n,2)}function G_(t,n){return rt(t.getSeconds(),n,2)}function j_(t){var n=t.getDay();return n===0?7:n}function Z_(t,n){return rt(je.count(tn(t)-1,t),n,2)}function Oh(t){var n=t.getDay();return n>=4||n===0?be(t):be.ceil(t)}function K_(t,n){return t=Oh(t),rt(be.count(tn(t),t)+(tn(t).getDay()===4),n,2)}function Q_(t){return t.getDay()}function J_(t,n){return rt(Or.count(tn(t)-1,t),n,2)}function t6(t,n){return rt(t.getFullYear()%100,n,2)}function n6(t,n){return t=Oh(t),rt(t.getFullYear()%100,n,2)}function e6(t,n){return rt(t.getFullYear()%1e4,n,4)}function r6(t,n){var e=t.getDay();return t=e>=4||e===0?be(t):be.ceil(t),rt(t.getFullYear()%1e4,n,4)}function i6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+rt(n/60|0,"0",2)+rt(n%60,"0",2)}function Is(t,n){return rt(t.getUTCDate(),n,2)}function o6(t,n){return rt(t.getUTCHours(),n,2)}function a6(t,n){return rt(t.getUTCHours()%12||12,n,2)}function f6(t,n){return rt(1+jo.count(nn(t),t),n,3)}function Bh(t,n){return rt(t.getUTCMilliseconds(),n,3)}function c6(t,n){return Bh(t,n)+"000"}function u6(t,n){return rt(t.getUTCMonth()+1,n,2)}function s6(t,n){return rt(t.getUTCMinutes(),n,2)}function l6(t,n){return rt(t.getUTCSeconds(),n,2)}function d6(t){var n=t.getUTCDay();return n===0?7:n}function h6(t,n){return rt(Ze.count(nn(t)-1,t),n,2)}function Uh(t){var n=t.getUTCDay();return n>=4||n===0?we(t):we.ceil(t)}function p6(t,n){return t=Uh(t),rt(we.count(nn(t),t)+(nn(t).getUTCDay()===4),n,2)}function m6(t){return t.getUTCDay()}function g6(t,n){return rt(Br.count(nn(t)-1,t),n,2)}function y6(t,n){return rt(t.getUTCFullYear()%100,n,2)}function b6(t,n){return t=Uh(t),rt(t.getUTCFullYear()%100,n,2)}function w6(t,n){return rt(t.getUTCFullYear()%1e4,n,4)}function _6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?we(t):we.ceil(t),rt(t.getUTCFullYear()%1e4,n,4)}function v6(){return"+0000"}function Rs(){return"%"}function Fs(t){return+t}function Ps(t){return Math.floor(+t/1e3)}var Ee,Lc,fi;x6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x6(t){return Ee=x_(t),Lc=Ee.format,Ee.parse,fi=Ee.utcFormat,Ee.utcParse,Ee}function M6(t){return new Date(t)}function $6(t){return t instanceof Date?+t:+new Date(+t)}function Dc(t,n,e,r,i,o,a,f,c,u){var s=gh(),d=s.invert,l=s.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),w=u("%b %d"),_=u("%B"),b=u("%Y");function M(v){return(c(v)<v?h:f(v)<v?p:a(v)<v?m:o(v)<v?g:r(v)<v?i(v)<v?y:w:e(v)<v?_:b)(v)}return s.invert=function(v){return new Date(d(v))},s.domain=function(v){return arguments.length?l(Array.from(v,$6)):l().map(M6)},s.ticks=function(v){var x=l();return t(x[0],x[x.length-1],v??10)},s.tickFormat=function(v,x){return x==null?M:u(x)},s.nice=function(v){var x=l();return(!v||typeof v.range!="function")&&(v=n(x[0],x[x.length-1],v??10)),v?l(bh(x,v)):s},s.copy=function(){return Jr(s,Dc(t,n,e,r,i,o,a,f,c,u))},s}function T6(){return bn.apply(Dc(__,v_,tn,oi,je,_e,ri,ni,Qt,Lc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S6(){return bn.apply(Dc(w_,Fh,nn,ai,Ze,jo,ii,ei,Qt,fi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ko(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qo(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,u=Vt,s,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+s(m))-o)*(r*m<r*o?f:c),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,n,e]=m,i=s(t=+t),o=s(n=+n),a=s(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,n,e]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var y,w,_;return arguments.length?([y,w,_]=g,u=zo(m,[y,w,_]),h):[u(0),u(.5),u(1)]}}return h.range=p(Kr),h.rangeRound=p(bc),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return s=m,i=m(t),o=m(n),a=m(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function zh(){var t=ti(Qo()(Vt));return t.copy=function(){return Ko(t,zh())},Vo.apply(t,arguments)}function qh(){var t=wh(Qo()).domain([.1,1,10]);return t.copy=function(){return Ko(t,qh()).base(t.base())},Vo.apply(t,arguments)}function Yh(){var t=vh(Qo());return t.copy=function(){return Ko(t,Yh()).constant(t.constant())},Vo.apply(t,arguments)}function Hh(){var t=Mh(Qo());return t.copy=function(){return Ko(t,Hh()).exponent(t.exponent())},Vo.apply(t,arguments)}function j(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const A6=j("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),C6=j("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),E6=j("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),N6=j("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),k6=j("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),L6=j("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),D6=j("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),I6=j("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),R6=j("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),F6=j("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),P6=j("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ft=t=>vb(t[t.length-1]);var Wh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(j);const Vh=ft(Wh);var Xh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(j);const Gh=ft(Xh);var jh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(j);const Zh=ft(jh);var Kh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(j);const Qh=ft(Kh);var zf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(j);const wo=ft(zf);var Jh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(j);const t0=ft(Jh);var qf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(j);const _o=ft(qf);var n0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(j);const e0=ft(n0);var r0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(j);const i0=ft(r0);var o0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(j);const a0=ft(o0);var f0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(j);const c0=ft(f0);var u0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(j);const s0=ft(u0);var l0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(j);const d0=ft(l0);var h0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(j);const p0=ft(h0);var m0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(j);const g0=ft(m0);var y0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(j);const b0=ft(y0);var w0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(j);const _0=ft(w0);var v0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(j);const x0=ft(v0);var M0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(j);const $0=ft(M0);var T0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(j);const S0=ft(T0);var A0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(j);const C0=ft(A0);var E0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(j);const N0=ft(E0);var k0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(j);const L0=ft(k0);var D0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(j);const I0=ft(D0);var R0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(j);const F0=ft(R0);var P0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(j);const O0=ft(P0);var B0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(j);const U0=ft(B0);function z0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const q0=wc(pn(300,.5,0),pn(-240,.5,1));var Y0=wc(pn(-100,.75,.35),pn(80,1.5,.8)),H0=wc(pn(260,.75,.35),pn(80,1.5,.8)),Si=pn();function W0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Si.h=360*t-100,Si.s=1.5-1.5*n,Si.l=.8-.9*n,Si+""}var Ai=Gn(),O6=Math.PI/3,B6=Math.PI*2/3;function V0(t){var n;return t=(.5-t)*Math.PI,Ai.r=255*(n=Math.sin(t))*n,Ai.g=255*(n=Math.sin(t+O6))*n,Ai.b=255*(n=Math.sin(t+B6))*n,Ai+""}function X0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Jo(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const G0=Jo(j("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var j0=Jo(j("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Z0=Jo(j("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),K0=Jo(j("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ne(t){return function(){return t}}const Q0=Math.cos,Ic=Math.min,vo=Math.sin,mt=Math.sqrt,Os=1e-12,xo=Math.PI,ta=2*xo;function U6(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Dd(n)}function z6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J0(t){this._context=t}J0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function na(t){return new J0(t)}function q6(t){return t[0]}function Y6(t){return t[1]}function H6(t,n){var e=Ne(!0),r=null,i=na,o=null,a=U6(f);t=typeof t=="function"?t:t===void 0?q6:Ne(t),n=typeof n=="function"?n:n===void 0?Y6:Ne(n);function f(c){var u,s=(c=z6(c)).length,d,l=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=s;++u)!(u<s&&e(d=c[u],u,c))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,u,c),+n(d,u,c));if(h)return o=null,h+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ne(+c),f):t},f.y=function(c){return arguments.length?(n=typeof c=="function"?c:Ne(+c),f):n},f.defined=function(c){return arguments.length?(e=typeof c=="function"?c:Ne(!!c),f):e},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}class tp{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function W6(t){return new tp(t,!0)}function V6(t){return new tp(t,!1)}const X6=mt(3),np={draw(t,n){const e=mt(n+Ic(n/28,.75))*.59436,r=e/2,i=r*X6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Rc={draw(t,n){const e=mt(n/xo);t.moveTo(e,0),t.arc(0,0,e,0,ta)}},ep={draw(t,n){const e=mt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},rp=mt(1/3),G6=rp*2,ip={draw(t,n){const e=mt(n/G6),r=e*rp;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},op={draw(t,n){const e=mt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},ap={draw(t,n){const e=mt(n-Ic(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},fp={draw(t,n){const e=mt(n),r=-e/2;t.rect(r,r,e,e)}},cp={draw(t,n){const e=mt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},j6=.8908130915292852,up=vo(xo/10)/vo(7*xo/10),Z6=vo(ta/10)*up,K6=-Q0(ta/10)*up,sp={draw(t,n){const e=mt(n*j6),r=Z6*e,i=K6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ta*o/5,f=Q0(a),c=vo(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},Oa=mt(3),lp={draw(t,n){const e=-mt(n/(Oa*3));t.moveTo(0,e*2),t.lineTo(-Oa*e,-e),t.lineTo(Oa*e,-e),t.closePath()}},Q6=mt(3),dp={draw(t,n){const e=mt(n)*.6824,r=e/2,i=e*Q6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ut=-.5,zt=mt(3)/2,Yf=1/mt(12),J6=(Yf/2+1)*3,hp={draw(t,n){const e=mt(n/J6),r=e/2,i=e*Yf,o=r,a=e*Yf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(Ut*r-zt*i,zt*r+Ut*i),t.lineTo(Ut*o-zt*a,zt*o+Ut*a),t.lineTo(Ut*f-zt*c,zt*f+Ut*c),t.lineTo(Ut*r+zt*i,Ut*i-zt*r),t.lineTo(Ut*o+zt*a,Ut*a-zt*o),t.lineTo(Ut*f+zt*c,Ut*c-zt*f),t.closePath()}},pp={draw(t,n){const e=mt(n-Ic(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},t3=[Rc,ep,ip,fp,sp,lp,hp],n3=[Rc,ap,pp,dp,np,cp,op];function jn(){}function Mo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ea(t){this._context=t}ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function e3(t){return new ea(t)}function mp(t){this._context=t}mp.prototype={areaStart:jn,areaEnd:jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Mo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function r3(t){return new mp(t)}function gp(t){this._context=t}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Mo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function i3(t){return new gp(t)}function yp(t,n){this._basis=new ea(t),this._beta=n}yp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,f=-1,c;++f<=e;)c=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*n[f]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const o3=(function t(n){function e(r){return n===1?new ea(r):new yp(r,n)}return e.beta=function(r){return t(+r)},e})(.85);function $o(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Fc(t,n){this._context=t,this._k=(1-n)/6}Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$o(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:$o(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const a3=(function t(n){function e(r){return new Fc(r,n)}return e.tension=function(r){return t(+r)},e})(0);function Pc(t,n){this._context=t,this._k=(1-n)/6}Pc.prototype={areaStart:jn,areaEnd:jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:$o(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const f3=(function t(n){function e(r){return new Pc(r,n)}return e.tension=function(r){return t(+r)},e})(0);function Oc(t,n){this._context=t,this._k=(1-n)/6}Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$o(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const c3=(function t(n){function e(r){return new Oc(r,n)}return e.tension=function(r){return t(+r)},e})(0);function Bc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Os){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Os){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*u+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function bp(t,n){this._context=t,this._alpha=n}bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Bc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const u3=(function t(n){function e(r){return n?new bp(r,n):new Fc(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function wp(t,n){this._context=t,this._alpha=n}wp.prototype={areaStart:jn,areaEnd:jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Bc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const s3=(function t(n){function e(r){return n?new wp(r,n):new Pc(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function _p(t,n){this._context=t,this._alpha=n}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const l3=(function t(n){function e(r){return n?new _p(r,n):new Oc(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function vp(t){this._context=t}vp.prototype={areaStart:jn,areaEnd:jn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function d3(t){return new vp(t)}function Bs(t){return t<0?-1:1}function Us(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(Bs(o)+Bs(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function zs(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Ba(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*n,o-f,a-f*e,o,a)}function To(t){this._context=t}To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ba(this,this._t0,zs(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ba(this,zs(this,e=Us(this,t,n)),e);break;default:Ba(this,this._t0,e=Us(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function xp(t){this._context=new Mp(t)}(xp.prototype=Object.create(To.prototype)).point=function(t,n){To.prototype.point.call(this,n,t)};function Mp(t){this._context=t}Mp.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function h3(t){return new To(t)}function p3(t){return new xp(t)}function $p(t){this._context=t}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=qs(t),i=qs(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function qs(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function m3(t){return new $p(t)}function ra(t,n){this._context=t,this._t=n}ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function g3(t){return new ra(t,.5)}function y3(t){return new ra(t,0)}function b3(t){return new ra(t,1)}function Mr(t,n,e){this.k=t,this.x=n,this.y=e}Mr.prototype={constructor:Mr,scale:function(t){return t===1?this:new Mr(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Mr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Mr.prototype;function Ft(t){return t!=null&&!Number.isNaN(t)}function en(t,n){return+Ft(n)-+Ft(t)||xt(t,n)}function So(t,n){return+Ft(n)-+Ft(t)||Xr(t,n)}function Uc(t){return t!=null&&`${t}`!=""}function Tp(t){return isFinite(t)?t:NaN}function zc(t){return t>0&&isFinite(t)?t:NaN}function Sp(t){return t<0&&isFinite(t)?t:NaN}function w3(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${_3(t.getUTCFullYear())}-${Cn(t.getUTCMonth()+1,2)}-${Cn(t.getUTCDate(),2)}${e||r||i||o?`T${Cn(e,2)}:${Cn(r,2)}${i||o?`:${Cn(i,2)}${o?`.${Cn(o,3)}`:""}`:""}Z`:""}`}function _3(t){return t<0?`-${Cn(-t,6)}`:t>9999?`+${Cn(t,6)}`:Cn(t,4)}function Cn(t,n){return`${t}`.padStart(n,"0")}const v3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Ap(t,n){return v3.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Ke(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Xr(n,e)}const Re=1e3,Wn=Re*60,Vn=Wn*60,mn=Vn*24,fn=mn*7,ue=mn*30,Hn=mn*365,Ua=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Re],["5 seconds",5*Re],["15 seconds",15*Re],["30 seconds",30*Re],["minute",Wn],["5 minutes",5*Wn],["15 minutes",15*Wn],["30 minutes",30*Wn],["hour",Vn],["3 hours",3*Vn],["6 hours",6*Vn],["12 hours",12*Vn],["day",mn],["2 days",2*mn],["week",fn],["2 weeks",2*fn],["month",ue],["3 months",3*ue],["6 months",6*ue],["year",Hn],["2 years",2*Hn],["5 years",5*Hn],["10 years",10*Hn],["20 years",20*Hn],["50 years",50*Hn],["100 years",100*Hn]],qc=new Map([["second",Re],["minute",Wn],["hour",Vn],["day",mn],["monday",fn],["tuesday",fn],["wednesday",fn],["thursday",fn],["friday",fn],["saturday",fn],["sunday",fn],["week",fn],["month",ue],["year",Hn]]),Cp=new Map([["second",Qt],["minute",ni],["hour",ri],["day",_e],["monday",Or],["tuesday",Ah],["wednesday",Ch],["thursday",be],["friday",Eh],["saturday",Nh],["sunday",je],["week",je],["month",oi],["year",tn]]),Yc=new Map([["second",Qt],["minute",ei],["hour",ii],["day",Zo],["monday",Br],["tuesday",kh],["wednesday",Lh],["thursday",we],["friday",Dh],["saturday",Ih],["sunday",Ze],["week",Ze],["month",ai],["year",nn]]),ci=Symbol("intervalDuration"),ia=Symbol("intervalType");for(const[t,n]of Cp)n[ci]=qc.get(t),n[ia]="time";for(const[t,n]of Yc)n[ci]=qc.get(t),n[ia]="utc";const $r=[["year",nn,"utc"],["month",ai,"utc"],["day",Zo,"utc",6*ue],["hour",ii,"utc",3*mn],["minute",ei,"utc",6*Vn],["second",Qt,"utc",30*Wn]],qi=[["year",tn,"time"],["month",oi,"time"],["day",_e,"time",6*ue],["hour",ri,"time",3*mn],["minute",ni,"time",6*Vn],["second",Qt,"time",30*Wn]],x3=[$r[0],qi[0],$r[1],qi[1],$r[2],qi[2],...$r.slice(3)];function Ep(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Yc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Np(t){return kp(Ep(t),"time")}function Hc(t){return kp(Ep(t),"utc")}function kp([t,n],e){let r=(e==="time"?Cp:Yc).get(t);return n>1&&(r=r.every(n),r[ci]=qc.get(t)*n,r[ia]=e),r}function Ys(t,n){if(!(n>1))return;const e=t[ci];if(!Ua.some(([,i])=>i===e)||e%mn===0&&mn<e&&e<ue)return;const[r]=Ua[ko(([,i])=>Math.log(i)).center(Ua,Math.log(e*n))];return(t[ia]==="time"?Np:Hc)(r)}function Hs(t,n,e){const r=n==="time"?Lc:fi;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=M3(e);switch(t){case"millisecond":return ke(r(".%L"),r(":%M:%S"),i);case"second":return ke(r(":%S"),r("%-I:%M"),i);case"minute":return ke(r("%-I:%M"),r("%p"),i);case"hour":return ke(r("%-I %p"),r("%b %-d"),i);case"day":return ke(r("%-d"),r("%b"),i);case"month":return ke(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function M3(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function $3(t){return t==="time"?qi:t==="utc"?$r:x3}function T3(t,n,e){const r=At(sg(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return Hs("millisecond","utc",e);for(const[i,o,a,f]of $3(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return Hs(i,a,e)}}function ke(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-Ke(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const Wc=Object.getPrototypeOf(Uint8Array),S3=Object.prototype.toString;function Me(t){return t instanceof Array||t instanceof Wc}function Lp(t){return t instanceof Wc&&!A3(t)}function Dp(t){return t?.prototype instanceof Wc&&!C3(t)}function A3(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function C3(t){return t===BigInt64Array||t===BigUint64Array}const Ip=Symbol("reindex");function dt(t,n,e){const r=typeof n;return r==="string"?Zp(t)?Vc(t.getChild(n),e):Ws(t,Rp(n),e):r==="function"?Ws(t,n,e):r==="number"||n instanceof Date||r==="boolean"?ht(t,Dn(n),e):typeof n?.transform=="function"?Hf(n.transform(t),e):E3(Hf(n,e),t?.[Ip])}function E3(t,n){return t!=null&&n?oa(t,n):t}function Ws(t,n,e){return ht(t,Dp(e)?(r,i)=>Gc(n(r,i)):n,e)}function Hf(t,n){return n===void 0?$e(t):Kp(t)?Vc(t,n):t instanceof n?t:n.from(t,Dp(n)&&!Lp(t)?Gc:void 0)}function Vc(t,n){return t==null?t:(n===void 0||n===Array)&&X3(t.type)?Op(Vs(t)):Hf(Vs(t),n)}function Vs(t){return t.nullCount?t.toJSON():t.toArray()}const Yi=[null],Rp=t=>n=>{const e=n[t];return e===void 0&&n.type==="Feature"?n.properties?.[t]:e},Xc={transform:zn},Mt={transform:t=>t},N3=()=>1,k3=()=>!0,St=t=>t==null?t:`${t}`,bt=t=>t==null?t:+t,Fp=t=>t?t[0]:void 0,Wf=t=>t?t[1]:void 0,Dn=t=>()=>t;function Pp(t){const n=+`${t}`.slice(1)/100;return(e,r)=>ze(e,n,r)}function Qe(t){return Lp(t)?t:ht(t,Gc,Float64Array)}function Gc(t){return t==null?NaN:Number(t)}function Op(t){return ht(t,Bp)}function Bp(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?Ap(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function Bn(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:aa(t)?[void 0,t]:[t,void 0]}function Rt(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Up(t,n,e){if(t!=null)return on(t,n,e)}function on(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Je(t){return Zp(t)?t:$e(t)}function $e(t){if(t==null||Me(t))return t;if(Kp(t))return Vc(t);if(zp(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function zp(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function ht(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function Ur(t,n=Array){return t instanceof n?t.slice():n.from(t)}function L3({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function qp({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function D3(t){return L3(t)||qp(t)||t.interval!==void 0}function Un(t){return t?.toString===S3}function Vf(t){return Un(t)&&(t.type!==void 0||t.domain!==void 0)}function jc(t){return Un(t)&&typeof t.transform!="function"}function zr(t){return jc(t)&&t.value===void 0&&t.channel===void 0}function I3(t,n,e,r=Mt){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function Zc(t,n){return t===void 0&&n===void 0?[Fp,Wf]:[t,n]}function Kc({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=Bn(n)),t===void 0&&([t]=Bn(e)),t}function qr(t){return Me(t)?t.length:t?.numRows}function zn(t){const n=qr(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function oa(t,n){return Me(t)?ht(n,e=>t[e],t.constructor):ht(n,e=>t.at(e))}function Yp(t){return t.length===1?(n,e)=>t(oa(e,n)):t}function se(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function In(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hp(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function Yr(t){let n;return[{transform:()=>n,label:Te(t)},e=>n=e]}function Sn(t){return t==null?[t]:Yr(t)}function Te(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function Xf(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return It(r)||It(i)?ht(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):ht(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Wp(t,n){const e=Vp(n?.interval,n?.type);return e?ht(t,e):t}function Vp(t,n){const e=Qc(t,n);return e&&(r=>Ft(r)?e.floor(r):r)}function Qc(t,n){if(t!=null){if(typeof t=="number")return R3(t);if(typeof t=="string")return(n==="time"?Np:Hc)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function R3(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>sf(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>sf(Math.ceil(e/n),r/n).map(i=>i*n)}}function or(t,n){if(t=Qc(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function F3(t,n){if(t=or(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function P3(t){return Fe(t)&&typeof t?.floor=="function"&&t.floor()instanceof Date}function Fe(t){return typeof t?.range=="function"}function ui(t){return t===void 0||jc(t)?t:{value:t}}function O3(t){return t==null?null:{transform:n=>dt(n,t,Float64Array),label:Te(t)}}function Jn(t){return t&&typeof t[Symbol.iterator]=="function"}function Xp(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Xs(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function It(t){for(const n of t)if(n!=null)return n instanceof Date}function B3(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&Ap(n)}function U3(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function z3(t){for(const n of t)if(n!=null)return typeof n=="number"}function za(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const q3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function aa(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||q3.has(t))}function Y3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function kt(t){return t==null||Hr(t)}function Hr(t){return/^\s*none\s*$/i.test(t)}function H3(t){return/^\s*round\s*$/i.test(t)}function Gf(t,n){return Up(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Jc(t="middle"){return Gf(t,"frameAnchor")}function W3(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function V3(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function Gp(t){return Jn(t)?V3(t):t}function jp(t){return t===!0?t="frame":t===!1?t=null:!zp(t)&&t!=null&&(t=on(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function Zp(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Kp(t){return t&&typeof t.toArray=="function"&&t.type}function X3(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const sn=Symbol("position"),qn=Symbol("color"),si=Symbol("radius"),li=Symbol("length"),di=Symbol("opacity"),fa=Symbol("symbol"),Qp=Symbol("projection"),lt=new Map([["x",sn],["y",sn],["fx",sn],["fy",sn],["r",si],["color",qn],["opacity",di],["symbol",fa],["length",li],["projection",Qp]]);function G3(t){return t===sn||t===Qp}function j3(t){return t===sn||t===si||t===li||t===di}const Z3=Math.sqrt(3),K3=2/Z3,Q3={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*K3,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Jp=new Map([["asterisk",np],["circle",Rc],["cross",ep],["diamond",ip],["diamond2",op],["hexagon",Q3],["plus",ap],["square",fp],["square2",cp],["star",sp],["times",pp],["triangle",lp],["triangle2",dp],["wye",hp]]);function t1(t){return t&&typeof t.draw=="function"}function J3(t){return t1(t)?!0:typeof t!="string"?!1:Jp.has(t.toLowerCase())}function tu(t){if(t==null||t1(t))return t;const n=Jp.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function ca({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=n1(t)),n!=null&&!zr(n)&&(r=qa(r,r1(n))),e&&(r=qa(r,e1))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||zr(n))&&{sort:n},transform:qa(r,a)}}function Ao({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=n1(t)),n!=null&&!zr(n)&&(r=Ya(r,r1(n))),e&&(r=Ya(r,e1))),{...i,...(n===null||zr(n))&&{sort:n},initializer:Ya(r,o)}}function qa(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Je(e),r,i)}}function Ya(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,u,s,d;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:s=f,facets:d=c,channels:u}=n.call(this,f,c,{...i,...a},...o),{data:s,facets:d,channels:{...a,...u}}}}function n1(t){return(n,e)=>{const r=dt(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function e1(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function r1(t){return(typeof t=="function"&&t.length!==1?t8:n8)(t)}function t8(t){return(n,e)=>{const r=Me(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function n8(t){let n,e;({channel:n,value:t,order:e}={...ui(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?So:en),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=en;break;case"descending":e=So;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=dt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(u,s)=>e(f[u],f[s]);return{data:i,facets:o.map(u=>u.slice().sort(c))}}}function Ha(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function e8(t,n,e=i1){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",u8]),n.href!=null&&t.href===void 0&&r.push(["href",eu]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?r8(i):e(i,o,n))}function i1(t,n,e,r=o1){let i;Un(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,f]=Yr(o.label);let c;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),c=f([])},scope(u,s){o.scope(u,s)},reduce(u,s){c.push(o.reduce(u,s))}}}function r8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function o1(t,n,e,r=nu){const i=Hp(t,e),o=r(n,i);let a,f;return{label:Te(o===Co?null:i,o.label),initialize(c){a=i===void 0?c:dt(c,i),o.scope==="data"&&(f=o.reduceIndex(zn(c),a))},scope(c,u){o.scope===c&&(f=o.reduceIndex(u,a))},reduce(c,u){return o.scope==null?o.reduceIndex(c,a,u):o.reduceIndex(c,a,f,u)}}}function Gs(t,n){return n?Gr(t,e=>n[e]):[[,t]]}function nu(t,n,e=i8){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Un(t))return f8(t);if(typeof t=="function")return c8(t);if(/^p\d{2}$/i.test(t))return An(Pp(t));switch(`${t}`.toLowerCase()){case"first":return eu;case"last":return s8;case"identity":return a1;case"count":return Co;case"distinct":return l8;case"sum":return n==null?Co:d8;case"proportion":return Zs(n,"data");case"proportion-facet":return Zs(n,"facet");case"deviation":return An(Io);case"min":return An(hn);case"min-index":return An(ag);case"max":return An(At);case"max-index":return An(og);case"mean":return js(Xl);case"median":return js(Gi);case"variance":return An(uc);case"mode":return An(jl)}return e(t)}function i8(t){throw new Error(`invalid reduce: ${t}`)}function o8(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function a8(t,n,e){if(n){const r=n.output.transform(),i=(o,a)=>en(r[o],r[a]);t.forEach(o=>o.sort(i))}e&&t.forEach(r=>r.reverse())}function f8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function c8(t){return{reduceIndex(n,e,r){return t(oa(e,n),r)}}}function An(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function js(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return It(e)?new Date(r):r}}}const a1={reduceIndex(t,n){return oa(n,t)}},eu={reduceIndex(t,n){return n[t[0]]}},u8={reduceIndex(t,n){const r=Wi(Pe(t,o=>o.length,o=>n[o]),Wf),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[`â€¦ ${o.length.toLocaleString("en-US")} more`,Xn(o,Wf)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},s8={reduceIndex(t,n){return n[t[t.length-1]]}},Co={label:"Frequency",reduceIndex(t){return t.length}},l8={label:"Distinct",reduceIndex(t,n){const e=new Ro;for(const r of t)e.add(n[r]);return e.size}},d8=An(Xn);function Zs(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Xn(e,o=>r[o])/i}}const h8={reduceIndex(t,n,{z:e}){return e}};function Wr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Te(r)},f){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),f1(f,{scale:n,type:e,value:dt(t,r),label:a,filter:i,hint:o})}function p8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Wr(n,r,e)]))}function m8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:ht(o,a)]}));return e.channels=t,e}function f1(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&za(r,aa)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&za(r,Y3)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&za(r,J3)?(n.scale=null,n.value=ht(r,tu)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=lt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!lt.has(e))throw new Error(`unknown scale: ${e}`);return n}function g8(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const u in i){if(!lt.has(u))continue;let{value:s,order:d=o,reverse:l=a,reduce:h=f,limit:p=c}=ui(i[u]);const m=s?.startsWith("-");if(m&&(s=s.slice(1)),d=d===void 0?m!==(s==="width"||s==="height")?u1:c1:w8(d),h==null||h===!1)continue;const g=u==="fx"||u==="fy"?b8(n,r[u]):y8(e,u);if(!g)throw new Error(`missing channel for scale: ${u}`);const y=g.value,[w=0,_=1/0]=Jn(p)?p:p<0?[p]:[0,p];if(s==null)g.domain=()=>{let b=Array.from(new Ro(y));return l&&(b=b.reverse()),(w!==0||_!==1/0)&&(b=b.slice(w,_)),b};else{const b=s==="data"?t:s==="height"?Ks(e,"y1","y2"):s==="width"?Ks(e,"x1","x2"):jf(e,s,s==="y"?"y2":s==="x"?"x2":void 0),M=nu(h===!0?"max":h,b);g.domain=()=>{let v=Jm(zn(y),x=>M.reduceIndex(x,b),x=>y[x]);return d&&v.sort(d),l&&v.reverse(),(w!==0||_!==1/0)&&(v=v.slice(w,_)),v.map(Fp)}}}}function y8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function b8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function Ks(t,n,e){const r=jf(t,n),i=jf(t,e);return ht(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function jf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function w8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return c1;case"descending":return u1}throw new Error(`invalid order: ${t}`)}function c1([t,n],[e,r]){return en(n,r)||en(t,e)}function u1([t,n],[e,r]){return So(n,r)||en(t,e)}function Qs(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const s1=new Map([["accent",C6],["category10",A6],["dark2",E6],["observable10",N6],["paired",k6],["pastel1",L6],["pastel2",D6],["set1",I6],["set2",R6],["set3",F6],["tableau10",P6]]);function _8(t){return t!=null&&s1.has(`${t}`.toLowerCase())}const Js=new Map([...s1,["brbg",Mn(Wh,Vh)],["prgn",Mn(Xh,Gh)],["piyg",Mn(jh,Zh)],["puor",Mn(Kh,Qh)],["rdbu",Mn(zf,wo)],["rdgy",Mn(Jh,t0)],["rdylbu",Mn(qf,_o)],["rdylgn",Mn(n0,e0)],["spectral",Mn(r0,i0)],["burd",tl(zf,wo)],["buylrd",tl(qf,_o)],["blues",gt(E0,N0)],["greens",gt(k0,L0)],["greys",gt(D0,I0)],["oranges",gt(B0,U0)],["purples",gt(R0,F0)],["reds",gt(P0,O0)],["turbo",$n(X0)],["viridis",$n(G0)],["magma",$n(j0)],["inferno",$n(Z0)],["plasma",$n(K0)],["cividis",$n(z0)],["cubehelix",$n(q0)],["warm",$n(Y0)],["cool",$n(H0)],["bugn",gt(o0,a0)],["bupu",gt(f0,c0)],["gnbu",gt(u0,s0)],["orrd",gt(l0,d0)],["pubu",gt(m0,g0)],["pubugn",gt(h0,p0)],["purd",gt(y0,b0)],["rdpu",gt(w0,_0)],["ylgn",gt(M0,$0)],["ylgnbu",gt(v0,x0)],["ylorbr",gt(T0,S0)],["ylorrd",gt(A0,C0)],["rainbow",nl(W0)],["sinebow",nl(V0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Jt(n,e):t[e])}function Mn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Jt(n,e):t[e])}function tl(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Jt(r=>n(1-r),e):t[e].slice().reverse())}function $n(t){return({length:n})=>Jt(t,Math.max(2,Math.floor(n)))}function nl(t){return({length:n})=>Jt(t,Math.floor(n)+1).slice(0,-1)}function l1(t){const n=`${t}`.toLowerCase();if(!Js.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Js.get(n)}function ua(t,n){const e=l1(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function v8(t,n="greys"){const e=new Set,[r,i]=ua(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const el=new Map([["brbg",Vh],["prgn",Gh],["piyg",Zh],["puor",Qh],["rdbu",wo],["rdgy",t0],["rdylbu",_o],["rdylgn",e0],["spectral",i0],["burd",t=>wo(1-t)],["buylrd",t=>_o(1-t)],["blues",N0],["greens",L0],["greys",I0],["purples",F0],["reds",O0],["oranges",U0],["turbo",X0],["viridis",G0],["magma",j0],["inferno",Z0],["plasma",K0],["cividis",z0],["cubehelix",q0],["warm",Y0],["cool",H0],["bugn",a0],["bupu",c0],["gnbu",s0],["orrd",d0],["pubugn",p0],["pubu",g0],["purd",b0],["rdpu",_0],["ylgnbu",x0],["ylgn",$0],["ylorbr",S0],["ylorrd",C0],["rainbow",W0],["sinebow",V0]]);function ru(t){const n=`${t}`.toLowerCase();if(!el.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return el.get(n)}const x8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function M8(t){return t!=null&&x8.has(`${t}`.toLowerCase())}const d1=t=>n=>t(1-n),Wa=[0,1],rl=new Map([["number",Tt],["rgb",me],["hsl",Ib],["hcl",Pb],["lab",Rb]]);function h1(t){const n=`${t}`.toLowerCase();if(!rl.has(n))throw new Error(`unknown interpolator: ${n}`);return rl.get(n)}function hi(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=m1(t,e),unknown:c,round:u,scheme:s,interval:d,range:l=lt.get(t)===si?I8(e,f):lt.get(t)===li?R8(e,f):lt.get(t)===di?Wa:void 0,interpolate:h=lt.get(t)===qn?s==null&&l!==void 0?me:ru(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):u?bc:Tt,reverse:p}){if(f=il(f),d=or(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=h1(h)),p=!!p,l!==void 0){const m=f.length,g=(l=il(l)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=zo(h,l),l=void 0}}if(h.length===1?(p&&(h=d1(h),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=Wa)),n.interpolate((l===Wa?Dn:ou)(h))):n.interpolate(h),a){const[m,g]=Yt(f);(m>0||g<0)&&(f=Ur(f),(Ke(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=ji(f)),n.domain(f).unknown(c),i&&(n.nice($8(i,r)),f=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function il(t){return t=$e(t),t.length>=2?t:[t[0],t[0]]}function $8(t,n){return t===!0?void 0:typeof t=="number"?t:F3(t,n)}function T8(t,n,e){return hi(t,Nc(),n,e)}function S8(t,n,e){return p1(t,n,{...e,exponent:.5})}function p1(t,n,{exponent:e=1,...r}){return hi(t,$h().exponent(e),n,{...r,type:"pow"})}function A8(t,n,{base:e=10,domain:r=F8(n),...i}){return hi(t,_h().base(e),n,{...i,domain:r})}function C8(t,n,{constant:e=1,...r}){return hi(t,xh().constant(e),n,r)}function E8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=P8(n),unknown:f,interpolate:c,reverse:u}){return e===void 0&&(e=c!==void 0?Jt(c,i):lt.get(t)===qn?ua(o,i):void 0),a.length>0&&(a=Th(a,e===void 0?{length:i}:e).quantiles()),iu(t,n,{domain:a,range:e,reverse:u,unknown:f})}function N8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=m1(t,n),unknown:a,interpolate:f,reverse:c}){const[u,s]=Yt(o);let d;return e===void 0?(d=kr(u,s,r),d[0]<=u&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),r=d.length+1,e=f!==void 0?Jt(f,r):lt.get(t)===qn?ua(i,r):void 0):(d=Jt(Tt(u,s),r+1).slice(1,-1),u instanceof Date&&(d=d.map(l=>new Date(l)))),Ke($e(o))<0&&d.reverse(),iu(t,n,{domain:d,range:e,reverse:c,unknown:a})}function iu(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Jt(o,e.length+1):lt.get(t)===qn?ua(i,e.length+1):void 0,reverse:f}){e=$e(e);const c=Ke(e);if(!isNaN(c)&&!k8(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=ji(a)),{type:"threshold",scale:Sh(c<0?ji(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function k8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Xr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function L8(t){return{type:"identity",scale:j3(lt.get(t))?yh():n=>n}}function Vr(t,n=Tp){return t.length?[hn(t,({value:e})=>e===void 0?e:hn(e,n)),At(t,({value:e})=>e===void 0?e:At(e,n))]:[0,1]}function m1(t,n){const e=lt.get(t);return(e===si||e===di||e===li?D8:Vr)(n)}function D8(t){return[0,t.length?At(t,({value:n})=>n===void 0?n:At(n,Tp)):1]}function I8(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=ze(t,.5,({value:a})=>a===void 0?NaN:ze(a,.25,zc)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/At(i);return o<1?i.map(a=>a*o):i}function R8(t,n){const e=Gi(t,({value:o})=>o===void 0?NaN:Gi(o,Math.abs)),r=n.map(o=>12*o/e),i=60/At(r);return i<1?r.map(o=>o*i):r}function F8(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Vr(t,zc);if(e<0)return Vr(t,Sp)}return[1,10]}function P8(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function ou(t){return(n,e)=>r=>t(n+r*(e-n))}let Zf=0,Kf;function O8(){const t=Zf;return Zf=0,Kf=void 0,t}function Rn(t){t!==Kf&&(Kf=t,console.warn(t),++Zf)}function sa(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=Vr(r),unknown:c,pivot:u=0,scheme:s,range:d,symmetric:l=!0,interpolate:h=lt.get(t)===qn?s==null&&d!==void 0?me:ru(s!==void 0?s:"rdbu"):Tt,reverse:p}){u=+u,f=$e(f);let[m,g]=f;if(f.length>2&&Rn(`Warning: the diverging ${t} scale domain contains extra elements.`),Xr(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,u),g=Math.max(g,u),typeof h!="function"&&(h=h1(h)),d!==void 0&&(h=h.length===1?ou(h)(...d):zo(h,d)),p&&(h=d1(h)),l){const y=e.apply(u),w=y-e.apply(m),_=e.apply(g)-y;w<_?m=e.invert(y-_):w>_&&(g=e.invert(y+w))}return n.domain([m,u,g]).unknown(c).interpolator(h),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[m,g],pivot:u,interpolate:h,scale:n}}function B8(t,n,e){return sa(t,zh(),Y8,n,e)}function U8(t,n,e){return g1(t,n,{...e,exponent:.5})}function g1(t,n,{exponent:e=1,...r}){return sa(t,Hh().exponent(e=+e),V8(e),n,{...r,type:"diverging-pow"})}function z8(t,n,{base:e=10,pivot:r=1,domain:i=Vr(n,r<0?Sp:zc),...o}){return sa(t,qh().base(e=+e),H8,n,{domain:i,pivot:r,...o})}function q8(t,n,{constant:e=1,...r}){return sa(t,Yh().constant(e=+e),X8(e),n,r)}const Y8={apply(t){return t},invert(t){return t}},H8={apply:Math.log,invert:Math.exp},W8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function V8(t){return t===.5?W8:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function X8(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function y1(t,n,e,r){return hi(t,n,e,r)}function G8(t,n,e){return y1(t,T6(),n,e)}function j8(t,n,e){return y1(t,S6(),n,e)}const pi=Symbol("ordinal");function b1(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=or(i,r),o===void 0&&(o=_1(e,i,t)),(r==="categorical"||r===pi)&&(r="ordinal"),f&&(o=ji(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function Z8(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=or(r,e),i===void 0&&(i=_1(n,r,t));let u;if(lt.get(t)===fa)u=J8(n),o=o===void 0?t5(u):ht(o,tu);else if(lt.get(t)===qn&&(o===void 0&&(e==="ordinal"||e===pi)&&(o=v8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=ru(a),d=o[0],l=o[1]-o[0];o=({length:h})=>Jt(p=>s(d+l*p),h)}else o=l1(a);if(f===Of)throw new Error(`implicit unknown on ${t} scale is not supported`);return b1(t,Ec().unknown(f),n,{...c,type:e,domain:i,range:o,hint:u})}function K8(t,n,{align:e=.5,padding:r=.5,...i}){return w1(a_().align(e).padding(r),n,i,t)}function Q8(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return w1(Xo().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function w1(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=b1(r,t,n,e),t.round=i,t}function _1(t,n,e){const r=new Ro;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Yt(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&lt.get(e)===sn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Wi(r,en)}function ol(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function J8(t){return{fill:ol(t,"fill"),stroke:ol(t,"stroke")}}function t5(t){return kt(t.fill)?n3:t3}function Qf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:u,zero:s,align:d,padding:l,projection:h,facet:{label:p=n}={},...m}={}){const g={};for(const[y,w]of t){const _=m[y],b=o5(y,w,{round:lt.get(y)===sn?f:void 0,nice:c,clamp:u,zero:s,align:d,padding:l,projection:h,..._});if(b){let{label:M=y==="fx"||y==="fy"?p:n,percent:v,transform:x,inset:$,insetTop:S=$!==void 0?$:y==="y"?r:0,insetRight:N=$!==void 0?$:y==="x"?i:0,insetBottom:A=$!==void 0?$:y==="y"?o:0,insetLeft:E=$!==void 0?$:y==="x"?a:0}=_||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");b.percent=!!v,b.label=M===void 0?e5(w,b):M,b.transform=x,y==="x"||y==="fx"?(b.insetLeft=+E,b.insetRight=+N):(y==="y"||y==="fy")&&(b.insetTop=+S,b.insetBottom=+A),g[y]=b}}return g}function al(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=s5(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function n5(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?au(n):n;i&&fl(i,a),o&&cl(o,a);const f=i||o?v1(t,n):n;e&&fl(e,f),r&&cl(r,f)}function e5(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!Se(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function r5(t){return Math.sign(Ke(t.domain()))*Math.sign(Ke(t.range()))}function au(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:u,marginLeft:s}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,s),width:o,height:a}}function v1({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=au(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function fl(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],Se(t)||(t.range=M1(t)),t.scale.range(t.range)}x1(t)}function cl(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],Se(t)?t.range.reverse():t.range=M1(t),t.scale.range(t.range)}x1(t)}function x1(t){t.round===void 0&&f5(t)&&i5(t)<=30&&t.scale.round(!0)}function i5({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function M1(t){const n=t.scale.domain().length+$1(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function o5(t,n=[],e={}){const r=a5(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&Se({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(It)?Rn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Le(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Le(r)}".`):i.some(B3)?Rn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Le(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Le(r)}".`):i.some(U3)&&Rn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Le(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Le(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Ci(n,e,Qe);break;case"identity":switch(lt.get(t)){case sn:e=Ci(n,e,Qe);break;case fa:e=Ci(n,e,c5);break}break;case"utc":case"time":e=Ci(n,e,Op);break}switch(r){case"diverging":return B8(t,n,e);case"diverging-sqrt":return U8(t,n,e);case"diverging-pow":return g1(t,n,e);case"diverging-log":return z8(t,n,e);case"diverging-symlog":return q8(t,n,e);case"categorical":case"ordinal":case pi:return Z8(t,n,e);case"cyclical":case"sequential":case"linear":return T8(t,n,e);case"sqrt":return S8(t,n,e);case"threshold":return iu(t,n,e);case"quantile":return E8(t,n,e);case"quantize":return N8(t,n,e);case"pow":return p1(t,n,e);case"log":return A8(t,n,e);case"symlog":return C8(t,n,e);case"utc":return j8(t,n,e);case"time":return G8(t,n,e);case"point":return K8(t,n,e);case"band":return Q8(t,n,e);case"identity":return L8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Le(t){return typeof t=="symbol"?t.description:t}function ul(t){return typeof t=="string"?`${t}`.toLowerCase():t}const sl={toString:()=>"projection"};function a5(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=ul(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=sl);for(const s of n){const d=ul(s.type);if(d!==void 0){if(e===void 0)e=d;else if(e!==d)throw new Error(`scale incompatible with channel: ${e} !== ${d}`)}}if(e===sl)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:s})=>s!==void 0))return;const c=lt.get(t);if(c===si)return"sqrt";if(c===di||c===li)return"linear";if(c===fa)return"ordinal";const u=(r??i)?.length;if(u<2||u>2)return Va(c);if(r!==void 0){if(Xs(r))return Va(c);if(It(r))return"utc"}else{const s=n.map(({value:d})=>d).filter(d=>d!==void 0);if(s.some(Xs))return Va(c);if(s.some(It))return"utc"}if(c===qn){if(a!=null||M8(o))return"diverging";if(_8(o))return"categorical"}return"linear"}function Va(t){switch(t){case sn:return"point";case qn:return pi;default:return"ordinal"}}function Se({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===pi}function $1({type:t}){return t==="threshold"}function f5({type:t}){return t==="point"||t==="band"}function Zn(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Ci(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function c5(t){return ht(t,tu)}function u5(t){return n=>{if(!lt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function s5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const u=t.unknown?t.unknown():void 0;return{type:n,domain:Ur(e),...r!==void 0&&{range:Ur(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function l5(t,n){const{fx:e,fy:r}=Qf(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?Km(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function d5(t,{x:n,y:e}){return n&&=Jf(n),e&&=Jf(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function fu(t,{fx:n,fy:e}){const r=zn(t),i=n?.value,o=e?.value;return n&&e?Pe(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Pe(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Pe(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function h5(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:a})=>t(a)-r:()=>0,o=n?({y:a})=>n(a)-e:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",i(a)),this.setAttribute("y",o(a))):this.setAttribute("transform",`translate(${i(a)},${o(a)})`)}}function p5(t){const n=[],e=new Uint32Array(Xn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const m5=new Map([["top",Xa],["right",Za],["bottom",Ga],["left",ja],["top-left",Ei(Xa,ja)],["top-right",Ei(Xa,Za)],["bottom-left",Ei(Ga,ja)],["bottom-right",Ei(Ga,Za)],["top-empty",b5],["right-empty",v5],["bottom-empty",w5],["left-empty",_5],["empty",x5]]);function g5(t){if(t==null)return null;const n=m5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const ll=new WeakMap;function Jf(t){let n=ll.get(t);return n||ll.set(t,n=new de(ht(t,(e,r)=>[e,r]))),n}function te(t,n){return Jf(t).get(n)}function y5(t,n,e){return n=In(n),e=In(e),t.find(r=>Object.is(In(r.x),n)&&Object.is(In(r.y),e))}function la(t,n,e){return y5(t,n,e)?.empty}function Xa(t,{y:n},{y:e}){return n?te(n,e)===0:!0}function Ga(t,{y:n},{y:e}){return n?te(n,e)===n.length-1:!0}function ja(t,{x:n},{x:e}){return n?te(n,e)===0:!0}function Za(t,{x:n},{x:e}){return n?te(n,e)===n.length-1:!0}function b5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=te(n,r);if(o>0)return la(t,e,n[o-1])}function w5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=te(n,r);if(o<n.length-1)return la(t,e,n[o+1])}function _5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=te(n,e);if(o>0)return la(t,n[o-1],r)}function v5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=te(n,e);if(o<n.length-1)return la(t,n[o+1],r)}function x5(t,n,{empty:e}){return e}function Ei(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Ka(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const T1=Math.PI,Tn=2*T1,Qa=.618;function M5({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,u="frame";if(Un(t)){let M;if({type:t,domain:c,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:o=M!==void 0?M:o,clip:u=u,...f}=t,t==null)return}typeof t!="function"&&({type:t}=tc(t));const{width:s,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=a,g=s-l-h-o-r,y=d-p-m-e-i;if(t=t?.({width:g,height:y,clip:u,...f}),t==null)return;u=$5(u,l,p,s-h,d-m);let w=l+o,_=p+e,b;if(c!=null){const[[M,v],[x,$]]=Tc(t).bounds(c),S=Math.min(g/(x-M),y/($-v));S>0?(w-=(S*(M+x)-g)/2,_-=(S*(v+$)-y)/2,b=po({point(N,A){this.stream.point(N*S+w,A*S+_)}})):Rn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??=w===0&&_===0?S1():po({point(M,v){this.stream.point(M+w,v+_)}}),{stream:M=>t.stream(b.stream(u(M)))}}function tc(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Zt(Ww,.7463,.4673);case"albers":return Ni(oh,.7463,.4673);case"azimuthal-equal-area":return Zt(Vw,4,4);case"azimuthal-equidistant":return Zt(Xw,Tn,Tn);case"conic-conformal":return Ni(Zw,Tn,Tn);case"conic-equal-area":return Ni(mo,6.1702,2.9781);case"conic-equidistant":return Ni(Jw,7.312,3.6282);case"equal-earth":return Zt(n_,5.4133,2.6347);case"equirectangular":return Zt(Kw,Tn,T1);case"gnomonic":return Zt(e_,3.4641,3.4641);case"identity":return{type:S1};case"reflect-y":return{type:T5};case"mercator":return Zt(Gw,Tn,Tn);case"orthographic":return Zt(r_,2,2);case"stereographic":return Zt(i_,2,2);case"transverse-mercator":return Zt(o_,Tn,Tn);default:throw new Error(`unknown projection type: ${t}`)}}function $5(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;if(t===!0&&(t="frame"),`${t}`.toLowerCase()==="frame")return Yd(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}function Zt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{const c=t();return a!=null&&c.precision?.(a),o!=null&&c.rotate?.(o),typeof f=="number"&&c.clipAngle?.(f),r!=null&&(c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2])),c},aspectRatio:e/n}}function Ni(t,n,e){const{type:r,aspectRatio:i}=Zt(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:u}=o,s=r(o);return a!=null&&(s.parallels(a),f===void 0&&c!=null&&s.fitSize([c,u],{type:"Sphere"})),s},aspectRatio:i}}const S1=Dn({stream:t=>t}),T5=Dn(po({point(t,n){this.stream.point(t,-n)}}));function S5(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let u;const s=r.stream({point(d,l){f[u]=d,c[u]=l}});for(u=0;u<a;++u)s.point(i[u],o[u])}function A5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Un(t)&&(t=t.type),t!=null)}function C5(t){if(typeof t?.stream=="function")return Qa;if(Un(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?tc(t).type:t,[[i,o],[a,f]]=Tc(r({...e,width:100,height:100})).bounds(n),c=(f-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:Qa}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=tc(t);if(n)return n}return Qa}}function E5(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)ie(a,o);return[r,i]}function N5({x:t,y:n}){if(t||n)return t??=e=>e,n??=e=>e,po({point(e,r){this.stream.point(t(e),n(r))}})}function cu(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:jp(e)}}function _t(t,{document:n}){return ae(Oo(t).call(n.documentElement))}const nc=Symbol("unset");function uu(t){return(t.length===1?k5:L5)(t)}function k5(t){let n,e=nc;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function L5(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const D5=uu(t=>new Intl.NumberFormat(t));uu((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));uu((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function I5(t="en-US"){const n=D5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function R5(t){return w3(t,"Invalid Date")}function F5(t="en-US"){const n=I5(t);return e=>(e instanceof Date?R5:typeof e=="number"?n:St)(e)}const tr=F5(),Lt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let P5=0;function A1(){return`plot-clip-${++P5}`}function O5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:u,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:w,imageFilter:_,paintOrder:b,pointerEvents:M,shapeRendering:v,channels:x},{ariaLabel:$,fill:S="currentColor",fillOpacity:N,stroke:A="none",strokeOpacity:E,strokeWidth:P,strokeLinecap:I,strokeLinejoin:T,strokeMiterlimit:R,paintOrder:L}){S===null&&(f=null,c=null),A===null&&(u=null,d=null),kt(S)?!kt(A)&&(!kt(f)||x?.fill)&&(A="none"):kt(A)&&(!kt(u)||x?.stroke)&&(S="none");const[H,D]=Bn(f,S),[F,z]=Rt(c,N),[q,U]=Bn(u,A),[Q,tt]=Rt(d,E),[nt,B]=Rt(y);Hr(U)||(s===void 0&&(s=P),h===void 0&&(h=I),l===void 0&&(l=T),p===void 0&&!H3(l)&&(p=R),!Hr(D)&&b===void 0&&(b=L));const[X,k]=Rt(s);return S!==null&&(t.fill=vt(D,"currentColor"),t.fillOpacity=pr(z,1)),A!==null&&(t.stroke=vt(U,"none"),t.strokeWidth=pr(k,1),t.strokeOpacity=pr(tt,1),t.strokeLinejoin=vt(l,"miter"),t.strokeLinecap=vt(h,"butt"),t.strokeMiterlimit=pr(p,4),t.strokeDasharray=vt(m,"none"),t.strokeDashoffset=vt(g,"0")),t.target=St(a),t.ariaLabel=St($),t.ariaDescription=St(i),t.ariaHidden=St(o),t.opacity=pr(B,1),t.mixBlendMode=vt(w,"normal"),t.imageFilter=vt(_,"none"),t.paintOrder=vt(b,"normal"),t.pointerEvents=vt(M,"auto"),t.shapeRendering=vt(v,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:q,scale:"auto",optional:!0},strokeOpacity:{value:Q,scale:"auto",optional:!0},strokeWidth:{value:X,optional:!0},opacity:{value:nt,scale:"auto",optional:!0}}}function B5(t,n){n&&t.filter(e=>Uc(n[e])).append("title").call(z5,n)}function U5(t,n){n&&t.filter(([e])=>Uc(n[e])).append("title").call(q5,n)}function z5(t,n){n&&t.text(e=>tr(n[e]))}function q5(t,n){n&&t.text(([e])=>tr(n[e]))}function gn(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:u,opacity:s,href:d}){r&&V(t,"aria-label",l=>r[l]),o&&V(t,"fill",l=>o[l]),a&&V(t,"fill-opacity",l=>a[l]),f&&V(t,"stroke",l=>f[l]),c&&V(t,"stroke-opacity",l=>c[l]),u&&V(t,"stroke-width",l=>u[l]),s&&V(t,"opacity",l=>s[l]),d&&C1(t,l=>d[l],n),e||B5(t,i)}function Y5(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:u,opacity:s,href:d}){r&&V(t,"aria-label",([l])=>r[l]),o&&V(t,"fill",([l])=>o[l]),a&&V(t,"fill-opacity",([l])=>a[l]),f&&V(t,"stroke",([l])=>f[l]),c&&V(t,"stroke-opacity",([l])=>c[l]),u&&V(t,"stroke-width",([l])=>u[l]),s&&V(t,"opacity",([l])=>s[l]),d&&C1(t,([l])=>d[l],n),e||U5(t,i)}function H5({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:c},{tip:u}){return[t,u?void 0:n,e,r,i,o,a,f,c].filter(s=>s!==void 0)}function W5(t,n,e){const r=Gr(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&Rn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*V5(t,n,e,r){const{z:i}=e,{z:o}=r,a=H5(r,e),f=[...n,...a];for(const c of o?W5(t,o,i):[t]){let u,s;t:for(const d of c){for(const l of f)if(!Ft(l[d])){s&&s.push(-1);continue t}if(u===void 0){s&&(yield s),u=a.map(l=>In(l[d])),s=[d];continue}s.push(d);for(let l=0;l<a.length;++l)if(In(a[l][d])!==u[l]){yield s,u=a.map(p=>In(p[d])),s=[d];continue t}}s&&(yield s)}}function X5(t,n,e,r){let i;const{clip:o=r.clip}=n;o==="frame"?(t=_t("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=j5(r,e)):o&&(i=K5(o,r)),V(t,"aria-label",n.ariaLabel),V(t,"aria-description",n.ariaDescription),V(t,"aria-hidden",n.ariaHidden),V(t,"clip-path",i)}function G5(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=A1();ae(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const j5=G5((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-c)}),dl=new WeakMap,Z5={type:"Sphere"};function K5(t,n){let e,r;if((e=dl.get(n))||dl.set(n,e=new WeakMap),t.type==="Sphere"&&(t=Z5),!(r=e.get(t))){const i=A1();ae(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function wn(t,n,e,r){X5(t,n,e,r),V(t,"class",n.className),V(t,"fill",n.fill),V(t,"fill-opacity",n.fillOpacity),V(t,"stroke",n.stroke),V(t,"stroke-width",n.strokeWidth),V(t,"stroke-opacity",n.strokeOpacity),V(t,"stroke-linejoin",n.strokeLinejoin),V(t,"stroke-linecap",n.strokeLinecap),V(t,"stroke-miterlimit",n.strokeMiterlimit),V(t,"stroke-dasharray",n.strokeDasharray),V(t,"stroke-dashoffset",n.strokeDashoffset),V(t,"shape-rendering",n.shapeRendering),V(t,"filter",n.imageFilter),V(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;V(t,"pointer-events",i)}function jt(t,n){Q5(t,"mix-blend-mode",n.mixBlendMode),V(t,"opacity",n.opacity)}function C1(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(qe.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(qe.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function V(t,n,e){e!=null&&t.attr(n,e)}function Q5(t,n,e){e!=null&&t.style(n,e)}function _n(t,n,{x:e,y:r},i=Lt,o=Lt){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function vt(t,n){if((t=St(t))!==n)return t}function pr(t,n){if((t=bt(t))!==n)return t}const J5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function su(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!J5.test(t))throw new Error(`invalid class name: ${t}`);return t}function lu(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function da({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class Bt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:u,dx:s=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,className:y,clip:w=i?.clip,channels:_,tip:b,render:M}=r;if(this.data=n,this.sort=zr(u)?u:null,this.initializer=Ao(r).initializer,this.transform=this.initializer?r.transform:ca(r).transform,o===null||o===!1?this.facet=null:(this.facet=on(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Yi&&typeof f=="string"?[f]:f,this.fy=n===Yi&&typeof c=="string"?[c]:c),this.facetAnchor=g5(a),e=Gp(e),_!==void 0&&(e={...t4(_),...e}),i!==void 0&&(e={...O5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([v,x])=>{if(jc(x.value)){const{value:$,label:S=x.label,scale:N=x.scale}=x.value;x={...x,label:S,scale:N,value:$}}if(n===Yi&&typeof x.value=="string"){const{value:$}=x;x={...x,value:[$]}}return[v,x]}).filter(([v,{value:x,optional:$}])=>{if(x!=null)return!0;if($)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+s,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=jp(w),this.tip=n4(b),this.className=St(y),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:x}=e[v];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=N1(M,this.render))}initialize(n,e,r){let i=Je(this.data);n===void 0&&i!=null&&(n=[zn(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Je(i)),n!==void 0&&(n.original=o);const a=p8(this.channels,i);return this.sort!=null&&g8(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=Ft}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&S5(i,o,e,r.projection)}}scale(n,e,r){const i=m8(n,e);return r.projection&&this.project(n,i,r),i}}function E1(...t){return t.plot=Bt.prototype.plot,t}function N1(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,u,s,d,l)=>n.call(this,c,u,s,d,l,f))}}function t4(t){return Object.fromEntries(Object.entries(Gp(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:ui(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function n4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?on(t,"tip",["x","y","xy"]):t}function ha(t,n){return t?.tip===!0?{...t,tip:n}:Un(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function e4(t,n,e={}){let r=.5-Lt,i=.5+Lt,o=.5+Lt,a=.5-Lt;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:w}of n)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),w>a&&(a=w);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:u=f!==void 0?f:i,marginBottom:s=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=e;c=+c,u=+u,s=+s,d=+d;let{width:l=640,height:h=r4(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+s-o)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:u,marginBottom:s,marginLeft:d};if(t.fx||t.fy){let{margin:m,marginTop:g=m!==void 0?m:c,marginRight:y=m!==void 0?m:u,marginBottom:w=m!==void 0?m:s,marginLeft:_=m!==void 0?m:d}=e.facet??{};g=+g,y=+y,w=+w,_=+_,p.facet={marginTop:g,marginRight:y,marginBottom:w,marginLeft:_}}return p}function r4({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:u,marginLeftDefault:s}){const d=e&&e.scale.domain().length||1,l=C5(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-s-c)*g+f+u)}const h=n?Se(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=hl("y",n)/(hl("x",t)*o),m=r?r.scale.bandwidth():1,g=e?e.scale.bandwidth():1,y=m*(a-s-c)-t.insetLeft-t.insetRight;return(p*y+n.insetTop+n.insetBottom)/g+f+u}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function hl(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Yt(r);return Math.abs(i(a)-i(o))}const pl=new WeakMap;function du(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...u}={}){return a=+a,i!=null&&(e??=null,f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??=null,f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...u,render:N1(function(s,d,l,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let w=pl.get(g);w||pl.set(g,w={sticky:!1,roots:[],renders:[]});let _=w.renders.push(U)-1;const{x:b,y:M,fx:v,fy:x}=d;let $=v?v(s.fx)-h.marginLeft:0,S=x?x(s.fy)-h.marginTop:0;b?.bandwidth&&($+=b.bandwidth()/2),M?.bandwidth&&(S+=M.bandwidth()/2);const N=s.fi!=null;let A;if(N){let B=w.facetStates;B||(w.facetStates=B=new Map),A=B.get(this),A||B.set(this,A=new Map)}const[E,P]=da(this,h),{px:I,py:T}=l,R=I?B=>I[B]:k1(l,E),L=T?B=>T[B]:L1(l,P);let H,D,F,z;function q(B,X){if(N)if(z&&(z=cancelAnimationFrame(z)),B==null)A.delete(s.fi);else{A.set(s.fi,X),z=requestAnimationFrame(()=>{z=null;for(const[k,O]of A)if(O<X||O===X&&k<s.fi){B=null;break}U(B)});return}U(B)}function U(B){if(H===B&&F===w.sticky)return;H=B,F=p.pointerSticky=w.sticky;const X=H==null?[]:[H];N&&(X.fx=s.fx,X.fy=s.fy,X.fi=s.fi);const k=m(X,d,l,h,p);if(D){if(N){const O=D.parentNode,Y=D.getAttribute("transform"),C=k.getAttribute("transform");Y?k.setAttribute("transform",Y):k.removeAttribute("transform"),C?O.setAttribute("transform",C):O.removeAttribute("transform"),k.removeAttribute("aria-label"),k.removeAttribute("aria-description"),k.removeAttribute("aria-hidden")}D.replaceWith(k)}if(w.roots[_]=D=k,!(H==null&&A?.size>1)){const O=H==null?null:Me(y)?y[H]:y.get(H);p.dispatchValue(O)}return k}function Q(B){if(w.sticky||B.pointerType==="mouse"&&B.buttons===1)return;let[X,k]=eb(B);X-=$,k-=S;const O=X<h.marginLeft||X>h.width-h.marginRight?1:t,Y=k<h.marginTop||k>h.height-h.marginBottom?1:n;let C=null,et=a*a;for(const W of s){const ot=O*(R(W)-X),ct=Y*(L(W)-k),$t=ot*ot+ct*ct;$t<=et&&(C=W,et=$t)}if(C!=null&&(t!==1||n!==1)){const W=R(C)-X,ot=L(C)-k;et=W*W+ot*ot}q(C,et)}function tt(B){B.pointerType==="mouse"&&H!=null&&(w.sticky&&w.roots.some(X=>X?.contains(B.target))||(w.sticky?(w.sticky=!1,w.renders.forEach(X=>X(null))):(w.sticky=!0,U(H)),B.stopImmediatePropagation()))}function nt(B){B.pointerType==="mouse"&&(w.sticky||q(null))}return g.addEventListener("pointerenter",Q),g.addEventListener("pointermove",Q),g.addEventListener("pointerdown",tt),g.addEventListener("pointerleave",nt),U(null)},c)}}function i4(t){return du(1,1,t)}function o4(t){return du(1,.01,t)}function ml(t){return du(.01,1,t)}function k1({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function L1({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function D1(t){return Se(t)&&t.interval===void 0?void 0:"tabular-nums"}function a4(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:u=0,style:s,ticks:d=(i-u-f)/64,tickFormat:l,fontVariant:h=D1(t),round:p=!0,opacity:m,className:g}=n;const y=cu(n);g=su(g),m=Rt(m)[1],l===null&&(l=()=>null);const w=_t("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(E=>E.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(lu,s);let _=E=>E.selectAll(".tick line").attr("y1",a+c-o),b;const M=p?(E,P)=>E.rangeRound(P):(E,P)=>E.range(P),{type:v,domain:x,range:$,interpolate:S,scale:N,pivot:A}=t;if(S){const E=$===void 0?S:zo(S.length===1?ou(S):S,$);b=M(N.copy(),Jt(Tt(u,i-f),Math.min(x.length+(A!==void 0),$===void 0?1/0:$.length)));const P=256,I=y.document.createElement("canvas");I.width=P,I.height=1;const T=I.getContext("2d");for(let R=0,L=P-1;R<P;++R)T.fillStyle=E(R/L),T.fillRect(R,0,1,1);w.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",i-u-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(v==="threshold"){const E=x,P=l===void 0?I=>I:typeof l=="string"?rr(l):l;b=M(Nc().domain([-1,$.length-1]),[u,i-f]),w.append("g").attr("fill-opacity",m).selectAll().data($).enter().append("rect").attr("x",(I,T)=>b(T-1)).attr("y",a).attr("width",(I,T)=>b(T)-b(T-1)).attr("height",o-a-c).attr("fill",I=>I),d=ht(E,(I,T)=>T),l=I=>P(E[I],I)}else b=M(Xo().domain(x),[u,i-f]),w.append("g").attr("fill-opacity",m).selectAll().data(x).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-c).attr("fill",N),_=()=>{};return w.append("g").attr("transform",`translate(0,${o-c})`).call(wg(b).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",vt(h,"normal")).call(_).call(E=>E.select(".domain").remove()),e!==void 0&&w.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),w.node()}const I1=Math.PI/180;function pa(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Ja(e),t.markerMid=Ja(r),t.markerEnd=Ja(i)}function Ja(t){if(t==null||t===!1)return null;if(t===!0)return yl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return gl("auto");case"arrow-reverse":return gl("auto-start-reverse");case"dot":return f4;case"circle":case"circle-fill":return yl;case"circle-stroke":return c4;case"tick":return tf("auto");case"tick-x":return tf(90);case"tick-y":return tf(0)}throw new Error(`invalid marker: ${t}`)}function gl(t){return(n,e)=>_t("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function f4(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function yl(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function c4(t,n){return _t("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function tf(t){return(n,e)=>_t("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let u4=0;function hu(t,n,{stroke:e},r){return F1(t,n,e&&(i=>e[i]),null,r)}function s4(t,n,{stroke:e,z:r},i){return F1(t,n,e&&(([o])=>e[o]),r,i)}const ec=1,R1=2;function l4(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=nc;o<i;++o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=In(n[c]))&&(e[c]|=ec)}}for(let o=i-1,a=nc;o>=0;--o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=In(n[c]))&&(e[c]|=R1)}}return([o])=>e[o]}function F1(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,f){if(!n&&!e&&!r)return;const c=new Map,u=a&&l4(t,a);function s(d,l,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=c.get(l);g||c.set(l,g=new Map);let y=g.get(m);if(!y){const w=this.parentNode.insertBefore(l(m,f),this),_=`plot-marker-${++u4}`;w.setAttribute("id",_),g.set(m,y=`url(#${_})`)}this.setAttribute(d,y)}}n&&t.each(s("marker-start",n,u&&(d=>u(d)&ec))),e&&u&&t.each(s("marker-start",e,d=>!(u(d)&ec))),e&&t.each(s("marker-mid",e)),r&&t.each(s("marker-end",r,u&&(d=>u(d)&R1)))}function mi({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=P1(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function ma({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=P1(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function P1(t,n,e){return t===void 0&&n===void 0&&e===void 0?Lt?[1,0]:[.5,.5]:[n,e]}function O1(t,{interval:n}){return t={...ui(t)},t.interval=Qc(t.interval===void 0?n:t.interval),t}function ga(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=O1(i,e);if(f==null||c==null&&!r)return e;const u=Te(i);if(c==null){let h;const p={transform:m=>h||(h=dt(m,f)),label:u};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,d;function l(h){return d!==void 0&&h===s?d:d=ht(dt(s=h,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:u}:o,[`${t}2`]:a===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:u}:a})}function B1(t,n,e){const{[t]:r}=e,{value:i,interval:o}=O1(r,e);return i==null||o==null?e:n({...e,[t]:{label:Te(r),transform:a=>{const f=ht(dt(a,i),u=>o.floor(u)),c=f.map(u=>o.offset(u));return f.map(It(f)?(u,s)=>u==null||isNaN(u=+u)||(s=c[s],s==null)||isNaN(s=+s)?void 0:new Date((u+s)/2):(u,s)=>u==null||(s=c[s],s==null)?NaN:(+u+ +s)/2)}}})}function d4(t={}){return ga("x",mi,t,!0)}function h4(t={}){return ga("y",ma,t,!0)}function p4(t={}){return ga("x",mi,t)}function U1(t={}){return ga("y",ma,t)}function m4(t={}){return B1("x",mi,t)}function g4(t={}){return B1("y",ma,t)}const z1={ariaLabel:"rule",fill:null,stroke:"currentColor"};class y4 extends Bt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},ha(e,"x"),z1),this.insetTop=bt(f),this.insetBottom=bt(c),pa(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:u,y2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:w}=this;return _t("svg:g",o).call(wn,this,i,o).call(_n,this,{x:c&&a},Lt,0).call(_=>_.selectAll().data(n).enter().append("line").call(jt,this).attr("x1",c?b=>c[b]:(m+d-p)/2).attr("x2",c?b=>c[b]:(m+d-p)/2).attr("y1",u&&!Zn(f)?b=>u[b]+y:h+y).attr("y2",s&&!Zn(f)?f.bandwidth?b=>s[b]+f.bandwidth()-w:b=>s[b]-w:l-g-w).call(gn,this,r).call(hu,this,r,o)).node()}}class b4 extends Bt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},ha(e,"y"),z1),this.insetRight=bt(f),this.insetLeft=bt(c),pa(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:u,x2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:w}=this;return _t("svg:g",o).call(wn,this,i,o).call(_n,this,{y:c&&f},0,Lt).call(_=>_.selectAll().data(n).enter().append("line").call(jt,this).attr("x1",u&&!Zn(a)?b=>u[b]+y:m+y).attr("x2",s&&!Zn(a)?a.bandwidth?b=>s[b]+a.bandwidth()-w:b=>s[b]-w:d-p-w).attr("y1",c?b=>c[b]:(h+l-g)/2).attr("y2",c?b=>c[b]:(h+l-g)/2).call(gn,this,r).call(hu,this,r,o)).node()}}function w4(t,n){let{x:e=Mt,y:r,y1:i,y2:o,...a}=U1(n);return[i,o]=Y1(r,i,o),new y4(t,{...a,x:e,y1:i,y2:o})}function q1(t,n){let{y:e=Mt,x:r,x1:i,x2:o,...a}=p4(n);return[i,o]=Y1(r,i,o),new b4(t,{...a,y:e,x1:i,x2:o})}function Y1(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function H1(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const _4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},W1="Â­";class pu extends Bt{constructor(n,e={}){const{x:r,y:i,text:o=Jn(n)&&Xp(n)?Mt:Xc,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:w}=e,[_,b]=Rt(w,0),[M,v]=S4(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:O3(_),optional:!0},text:{value:o,filter:Uc,optional:!0}},e,_4),this.rotate=b,this.textAnchor=vt(f,"middle"),this.lineAnchor=on(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+s,this.textOverflow=V1(d),this.monospace=!!l,this.fontFamily=St(h),this.fontSize=v,this.fontStyle=St(m),this.fontVariant=St(g),this.fontWeight=St(y),this.frameAnchor=Jc(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=G1(this),this.clipLine=j1(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:u,rotate:s,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,g]=da(this,i);return _t("svg:g",o).call(wn,this,i,o).call(X1,this,d,i).call(_n,this,{x:c&&a,y:u&&f}).call(y=>y.selectAll().data(n).enter().append("text").call(jt,this).call(v4,this,d,l).attr("transform",H1`translate(${c?w=>c[w]:m},${u?w=>u[w]:g})${s?w=>` rotate(${s[w]})`:p?` rotate(${p})`:""}`).call(V,"font-size",h&&(w=>h[w])).call(gn,this,r)).node()}}function V1(t){return t==null?null:on(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function v4(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(u){const s=f(tr(e[u])??"").map(c),d=s.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!s[p])continue;const m=this.ownerDocument.createElementNS(qe.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=s[p],this.appendChild(m),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==e[u]){const h=this.ownerDocument.createElementNS(qe.svg,"title");h.textContent=e[u],this.appendChild(h)}})}function mu(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Zc(n,e)),new pu(t,{...r,x:n,y:e})}function x4(t,{x:n=Mt,...e}={}){return new pu(t,g4({...e,x:n}))}function M4(t,{y:n=Mt,...e}={}){return new pu(t,m4({...e,y:n}))}function X1(t,n,e){V(t,"text-anchor",n.textAnchor),V(t,"font-family",n.fontFamily),V(t,"font-size",n.fontSize),V(t,"font-style",n.fontStyle),V(t,"font-variant",n.fontVariant===void 0?$4(e):n.fontVariant),V(t,"font-weight",n.fontWeight)}function $4(t){return t&&(z3(t)||It(t))?"tabular-nums":void 0}const T4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function S4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),T4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function A4(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of C4(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===W1?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*C4(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case W1:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const bl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"â€˜":31,"â€™":31,"â€œ":47,"â€":47,"â€¦":82};function gu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=ar(t,i))r+=bl[t[i]]??(K1(t,i)?120:bl.e);return r}function yu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=ar(t,i))r+=K1(t,i)?126:63;return r}function G1({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?yu:gu,i=n*100;return o=>A4(o,i,r)}function j1({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?yu:gu,i=n*100;switch(e){case"clip-start":return o=>_l(o,i,r,"");case"clip-end":return o=>wl(o,i,r,"");case"ellipsis-start":return o=>_l(o,i,r,Ue);case"ellipsis-middle":return o=>E4(o,i,r,Ue);case"ellipsis-end":return o=>wl(o,i,r,Ue)}}const Ue="â€¦";function nr(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=ar(t,a);const u=e(t,a,f);if(o+u>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=u,i.push(a)}return[-1,0]}function wl(t,n,e,r){t=t.trim();const i=e(r),[o]=nr(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function E4(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=nr(t,n/2,e,o),[c]=nr(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(ar(t,c)).trimStart()}function _l(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=nr(t,i-n+o,e,-o);return a<0?r:r+t.slice(ar(t,a)).trimStart()}const rc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,vl=new RegExp("\\p{Extended_Pictographic}","uy");function ar(t,n){return n+=N4(t,n)?2:1,L4(t,n)&&(n=rc.lastIndex),k4(t,n)?ar(t,n+1):n}function Z1(t,n){return t.charCodeAt(n)<128}function N4(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function k4(t,n){return t.charCodeAt(n)===8205}function L4(t,n){return Z1(t,n)?!1:(rc.lastIndex=n,rc.test(t))}function K1(t,n){return Z1(t,n)?!1:(vl.lastIndex=n,vl.test(t))}const D4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Q1=3.5,I4=Q1*5,J1={draw(t,n,e){const r=n*e/I4;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},R4={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},F4=new Map([["arrow",J1],["spike",R4]]);function P4(t){return t&&typeof t.draw=="function"}function O4(t){if(P4(t))return t;const n=F4.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class tm extends Bt{constructor(n,e={}){const{x:r,y:i,r:o=Q1,length:a,rotate:f,shape:c=J1,anchor:u="middle",frameAnchor:s}=e,[d,l]=Rt(a,12),[h,p]=Rt(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,D4),this.r=+o,this.length=l,this.rotate=p,this.shape=O4(c),this.anchor=on(u,"anchor",["start","middle","end"]),this.frameAnchor=Jc(s)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:u,length:s,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:g}=this,[y,w]=da(this,i);return _t("svg:g",o).call(wn,this,i,o).call(_n,this,{x:c&&a,y:u&&f}).call(_=>_.selectAll().data(n).enter().append("path").call(jt,this).attr("transform",H1`translate(${c?b=>c[b]:y},${u?b=>u[b]:w})${d?b=>` rotate(${d[b]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?s?b=>` translate(0,${s[b]})`:` translate(0,${l})`:s?b=>` translate(0,${s[b]/2})`:` translate(0,${l/2})`}`).attr("d",s?b=>{const M=xf();return m.draw(M,s[b],g),M}:(()=>{const b=xf();return m.draw(b,l,g),b})()).call(gn,this,r)).node()}}function B4(t,n={}){const{x:e=Mt,...r}=n;return new tm(t,{...r,x:e})}function U4(t,n={}){const{y:e=Mt,...r}=n;return new tm(t,{...r,y:e})}function ne(t,n){return arguments.length<2&&!Jn(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function ya({anchor:t}={},n){return t===void 0?n[0]:on(t,"anchor",n)}function nm(t){return ya(t,["left","right"])}function em(t){return ya(t,["right","left"])}function rm(t){return ya(t,["bottom","top"])}function im(t){return ya(t,["top","bottom"])}function om(){const[t,n]=ne(...arguments);return fm("y",nm(n),t,n)}function z4(){const[t,n]=ne(...arguments);return fm("fy",em(n),t,n)}function am(){const[t,n]=ne(...arguments);return cm("x",rm(n),t,n)}function q4(){const[t,n]=ne(...arguments);return cm("fx",im(n),t,n)}function fm(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:u=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:w,marginTop:_=w===void 0?20:w,marginRight:b=w===void 0?n==="right"?40:0:w,marginBottom:M=w===void 0?20:w,marginLeft:v=w===void 0?n==="left"?40:0:w,label:x,labelAnchor:$,labelArrow:S,labelOffset:N,ariaLabel:A=`${t}-axis`,...E}){return p=bt(p),m=bt(m),g=bt(g),$!==void 0&&($=on($,"labelAnchor",["center","top","bottom"])),S=gm(S),E1(p&&!kt(o)?Y4(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,ariaLabel:A,...E}):null,kt(c)?null:W4(t,n,e,{fill:c,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:_,marginRight:b,marginBottom:M,marginLeft:v,ariaLabel:A,...E}),!kt(c)&&x!==null?mu([],dm({fill:c,fillOpacity:u,...E},function(P,I,T,R,L){const H=R[t],{marginTop:D,marginRight:F,marginBottom:z,marginLeft:q}=t==="y"&&L.inset||L,U=$??(H.bandwidth?"center":"top"),Q=N??(n==="right"?F:q)-3;return U==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=U,this.frameAnchor=`${U}-${n}`,this.rotate=0),this.dy=U==="top"?3-D:U==="bottom"?z-3:0,this.dx=n==="right"?Q:-Q,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[mm(t,H,{anchor:n,label:x,labelAnchor:U,labelArrow:S})]}}}})):null)}function cm(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:u=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:w,marginTop:_=w===void 0?n==="top"?30:0:w,marginRight:b=w===void 0?20:w,marginBottom:M=w===void 0?n==="bottom"?30:0:w,marginLeft:v=w===void 0?20:w,label:x,labelAnchor:$,labelArrow:S,labelOffset:N,ariaLabel:A=`${t}-axis`,...E}){return p=bt(p),m=bt(m),g=bt(g),$!==void 0&&($=on($,"labelAnchor",["center","left","right"])),S=gm(S),E1(p&&!kt(o)?H4(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,ariaLabel:A,...E}):null,kt(c)?null:V4(t,n,e,{fill:c,fillOpacity:u,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:_,marginRight:b,marginBottom:M,marginLeft:v,ariaLabel:A,...E}),!kt(c)&&x!==null?mu([],dm({fill:c,fillOpacity:u,...E},function(P,I,T,R,L){const H=R[t],{marginTop:D,marginRight:F,marginBottom:z,marginLeft:q}=t==="x"&&L.inset||L,U=$??(H.bandwidth?"center":"right"),Q=N??(n==="top"?D:z)-3;return U==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${U}`,this.textAnchor=U==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-Q:Q,this.dx=U==="right"?F-3:U==="left"?3-q:0,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[mm(t,H,{anchor:n,label:x,labelAnchor:U,labelArrow:S})]}}}})):null)}function Y4(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:u=0,insetLeft:s=u,insetRight:d=u,dx:l=0,y:h=t==="y"?void 0:null,ariaLabel:p,...m}){return fr(U4,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...m,dx:n==="left"?+l-Lt+ +s:+l+Lt-d,anchor:"start",length:c,shape:n==="left"?tv:nv})}function H4(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:u=0,insetTop:s=u,insetBottom:d=u,dy:l=0,x:h=t==="x"?void 0:null,ariaLabel:p,...m}){return fr(B4,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...m,dy:n==="bottom"?+l-Lt-d:+l+Lt+ +s,anchor:"start",length:c,shape:n==="bottom"?Q4:J4})}function W4(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*I1):0),text:c,textAnchor:u=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:m=0,ariaLabel:g,y=t==="y"?void 0:null,...w}){return fr(M4,t,e,{ariaLabel:`${g} tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:u,lineAnchor:s,fontVariant:d,rotate:a,y,...w,dx:n==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(_,b,M,v,x){d===void 0&&(this.fontVariant=pm(_)),c===void 0&&(x.text=hm(_,b,M,v,n))})}function V4(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*I1):0),text:c,textAnchor:u=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:m=0,x:g=t==="x"?void 0:null,ariaLabel:y,...w}){return fr(x4,t,e,{ariaLabel:`${y} tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:u,lineAnchor:s,fontVariant:d,rotate:a,x:g,...w,dy:n==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(_,b,M,v,x){d===void 0&&(this.fontVariant=pm(_)),c===void 0&&(x.text=hm(_,b,M,v,n))})}function X4(){const[t,n]=ne(...arguments);return um("y",nm(n),t,n)}function G4(){const[t,n]=ne(...arguments);return um("fy",em(n),t,n)}function j4(){const[t,n]=ne(...arguments);return sm("x",rm(n),t,n)}function Z4(){const[t,n]=ne(...arguments);return sm("fx",im(n),t,n)}function um(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...u}){return fr(q1,t,e,{ariaLabel:f,ariaHidden:c},{y:r,x1:o,x2:a,...lm(u)})}function sm(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...u}){return fr(w4,t,e,{ariaLabel:f,ariaHidden:c},{x:r,y1:o,y2:a,...lm(u)})}function lm({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function dm({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:u,clip:s=!1},d){return[,t]=Bn(t),[,n]=Rt(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:u,clip:s,initializer:d}}function fr(t,n,e,r,i,o){let a;function f(s,d,l,h,p,m){const g=s==null&&(n==="fx"||n==="fy"),{[n]:y}=h;if(!y)throw new Error(`missing scale: ${n}`);const w=y.domain();let{interval:_,ticks:b,tickFormat:M,tickSpacing:v=n==="x"?80:35}=i;if(typeof b=="string"&&ym(y)&&(_=b,b=void 0),b===void 0&&(b=or(_,y.type)??K4(y,v)),s==null){if(Jn(b))s=$e(b);else if(Fe(b))s=nf(b,...Yt(w));else if(y.interval){let $=y.interval;if(y.ticks){const[S,N]=Yt(w),A=(N-S)/$[ci];$=Ys($,A/b)??$,s=nf($,S,N)}else{s=w;const S=s.length;$=Ys($,S/b)??$,$!==y.interval&&(s=nf($,...Yt(s)))}if($===y.interval){const S=Math.round(s.length/b);S>1&&(s=s.filter((N,A)=>A%S===0))}}else y.ticks?s=y.ticks(b):s=w;if(!y.ticks&&s.length&&s!==w){const $=new Ro(w);s=s.filter(S=>$.has(S)),s.length||Rn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[zn(s)]:a[n]={scale:n,value:Mt}}o?.call(this,y,s,b,M,a);const x=Object.fromEntries(Object.entries(a).map(([$,S])=>[$,{...S,value:dt(s,S.value)}]));return g&&(d=m.filterFacets(s,x)),{data:s,facets:d,channels:x}}const c=Ao(i).initializer,u=t(e,Ao({...i,initializer:f},c));return e==null?(a=u.channels,u.channels={}):a={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function K4(t,n){const[e,r]=Yt(t.range());return(r-e)/n}function hm(t,n,e,r,i){return{value:bu(t,n,e,r,i)}}function bu(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&It(n)?T3(t.type,n,i)??tr:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(It(t.domain())?fi:rr)(r):r===void 0?tr:Dn(r)}function nf(t,n,e){return t.range(n,t.offset(t.floor(e)))}const Q4={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},J4={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},tv={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},nv={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function pm(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function mm(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&ym(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[â†‘â†“â†’â†]/.test(r)),!o)return r;if(o===!0){const a=r5(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`â† ${r}`;case"right":return`${r} â†’`;case"up":return e==="right"?`${r} â†‘`:`â†‘ ${r}`;case"down":return e==="right"?`${r} â†“`:`â†“ ${r}`}return r}}function gm(t="auto"){return kt(t)?!1:typeof t=="boolean"?t:on(t,"labelArrow",["auto","up","right","down","left"])}function ym(t){return It(t.domain())}function xl(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function ev(t,{opacity:n,...e}={}){if(!Se(t)&&!$1(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return bm(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Rt(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function rv(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:kt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[u,s]=Bn(n),[d,l]=Bn(r),h=xl(c,u),p=xl(c,d),m=a*a*Math.PI;return e=Rt(e)[1],i=Rt(i)[1],o=Rt(o)[1],bm(t,f,(g,y,w,_)=>g.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",_).attr("fill",u==="color"?b=>h.scale(b):s).attr("fill-opacity",e).attr("stroke",d==="color"?b=>p.scale(b):l).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",b=>{const M=xf();return t.scale(b).draw(M,m),M}))}function bm(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=D1(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:u=0,className:s,style:d,width:l}=n;const h=cu(n);s=su(s),i=bu(t.scale,t.domain,void 0,i);const p=_t("div",h).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,f,c).call(g=>g.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",vt(o,"normal")).call(lu,d).node()}const ic=new Map([["symbol",rv],["color",_m],["opacity",ov]]);function iv(t,n,e={}){return(r,i)=>{if(!ic.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return ic.get(r)(t[r],wm(n,e[r],i),o=>t[o])}}function wm({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return W3(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function _m(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return ev(t,e);case"ramp":return a4(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function ov({type:t,interpolate:n,...e},{legend:r=!0,color:i=Gn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return _m({type:t,...e,interpolate:av(i)},{legend:r,...o})}function av(t){const{r:n,g:e,b:r}=Gn(t)||Gn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function fv(t,n,e){const r=[];for(const[i,o]of ic){const a=e[i];if(a?.legend&&i in t){const f=o(t[i],wm(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}function cv(t={},n="y"){return qp(t)?t:{...t,[n]:Mt}}function uv(t,n){if(n.length===1)return{data:t,facets:n};const e=qr(t),r=new Uint8Array(e);let i=0;for(const f of n)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:n};t=Ur(t);const o=t[Ip]=new Uint32Array(e+i);n=n.map(f=>Ur(f,Uint32Array));let a=e;r.fill(0);for(const f of n)for(let c=0,u=f.length;c<u;++c){const s=f[c];r[s]?(f[c]=a,t[a]=t[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:t,facets:n}}function sv(t={},n={}){arguments.length===1&&([t,n]=dv(t));const{x1:e,x:r=e,y:i,...o}=n,[a,f,c,u]=pv(r,i,"x","y",t,o);return{...a,x1:e,x:f,y1:c,y2:u,y:Xf(c,u)}}function lv({y:t,y1:n,y2:e,...r}={}){return r=ha(r,"x"),n===void 0&&e===void 0?sv({y:t,...r}):([n,e]=I3(t,n,e),{...r,y1:n,y2:e})}function dv(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const hv={length:!0};function pv(t,n=N3,e,r,{offset:i,order:o,reverse:a},f){if(n===null)throw new Error(`stack requires ${r}`);const c=Kc(f),[u,s]=Sn(t),[d,l]=Yr(n),[h,p]=Yr(n);return d.hint=h.hint=hv,i=mv(i),o=bv(o,i,r),[ca(f,(m,g,y)=>{({data:m,facets:g}=uv(m,g));const w=t==null?void 0:s(Wp(dt(m,t),y?.[e])),_=dt(m,n,Float64Array),b=dt(m,c),M=o&&o(m,w,_,b),v=qr(m),x=l(new Float64Array(v)),$=p(new Float64Array(v)),S=[];for(const N of g){const A=w?Array.from(Gr(N,E=>w[E]).values()):[N];if(M)for(const E of A)E.sort(M);for(const E of A){let P=0,I=0;a&&E.reverse();for(const T of E){const R=_[T];R<0?P=$[T]=(x[T]=P)+R:R>0?I=$[T]=(x[T]=I)+R:$[T]=x[T]=I}}S.push(A)}return i&&i(S,x,$,b),{data:m,facets:g}}),u,d,h]}function mv(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return gv;case"center":case"silhouette":return yv;case"wiggle":return xm}throw new Error(`unknown offset: ${t}`)}}function vm(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function gv(t,n,e){for(const r of t)for(const i of r){const[o,a]=vm(i,e);for(const f of i){const c=1/(a-o||1);n[f]=c*(n[f]-o),e[f]=c*(e[f]-o)}}}function yv(t,n,e){for(const r of t){for(const i of r){const[o,a]=vm(i,e);for(const f of i){const c=(a+o)/2;n[f]-=c,e[f]-=c}}Mm(r,n,e)}$m(t,n,e)}function xm(t,n,e,r){for(const i of t){const o=new de;let a=0;for(const f of i){let c=-1;const u=f.map(h=>Math.abs(e[h]-n[h])),s=f.map(h=>{c=r?r[h]:++c;const p=e[h]-n[h],m=o.has(c)?p-o.get(c):0;return o.set(c,p),m}),d=[0,...Qm(s)];for(const h of f)n[h]+=a,e[h]+=a;const l=Xn(u);l&&(a-=Xn(u,(h,p)=>(s[p]/2+d[p])*h)/l)}Mm(i,n,e)}$m(t,n,e)}function Mm(t,n,e){const r=hn(t,i=>hn(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function $m(t,n,e){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(hn(f,c=>n[c])+At(f,c=>e[c]))/2),a=hn(o);for(let f=0;f<r;f++){const c=a-o[f];for(const u of i[f])n[u]+=c,e[u]+=c}}function bv(t,n,e){if(t===void 0&&n===xm)return Ml(en);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?So:en;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return wv(i);case"z":return _v(i);case"sum":return vv(i);case"appearance":return xv(i);case"inside-out":return Ml(i)}return $l(Rp(t))}if(typeof t=="function")return(t.length===1?$l:Mv)(t);if(Me(t))return $v(t);throw new Error(`invalid order: ${t}`)}}function wv(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function _v(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function vv(t){return ba(t,(n,e,r,i)=>lc(zn(n),o=>Xn(o,a=>r[a]),o=>i[o]))}function xv(t){return ba(t,(n,e,r,i)=>lc(zn(n),o=>e[Wl(o,a=>r[a])],o=>i[o]))}function Ml(t){return ba(t,(n,e,r,i)=>{const o=zn(n),a=lc(o,d=>e[Wl(d,l=>r[l])],d=>i[d]),f=Pe(o,d=>Xn(d,l=>r[l]),d=>i[d]),c=[],u=[];let s=0;for(const d of a)s<0?(s+=f.get(d),c.push(d)):(s-=f.get(d),u.push(d));return u.reverse().concat(c)})}function $l(t){return n=>{const e=dt(n,t);return(r,i)=>en(e[r],e[i])}}function Mv(t){return n=>Me(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function $v(t){return ba(en,()=>t)}function ba(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new de(n(e,r,i,o).map((f,c)=>[f,c]));return(f,c)=>t(a.get(o[f]),a.get(o[c]))}}const Tv={ariaLabel:"rect"};class Sv extends Bt{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a}=e;super(n,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,Tv),wu(this,e),_u(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e;let{x1:c,y1:u,x2:s,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:y}=i,{projection:w}=o,{insetTop:_,insetRight:b,insetBottom:M,insetLeft:v}=this,{rx:x,ry:$,rx1y1:S,rx1y2:N,rx2y1:A,rx2y2:E}=this;(c||s)&&!w&&Zn(a)&&(c=s=null),(u||d)&&!w&&Zn(f)&&(u=d=null);const P=a?.bandwidth?a.bandwidth():0,I=f?.bandwidth?f.bandwidth():0;return _t("svg:g",o).call(wn,this,i,o).call(_n,this,{},0,0).call(T=>T.selectAll().data(n).enter().call(S||N||A||E?R=>R.append("path").call(jt,this).call(vu,c&&s?L=>c[L]+(s[L]<c[L]?-b:v):c?L=>c[L]+v:m+v,u&&d?L=>u[L]+(d[L]<u[L]?-M:_):u?L=>u[L]+_:l+_,c&&s?L=>s[L]-(s[L]<c[L]?-v:b):c?L=>c[L]+P-b:g-h-b,u&&d?L=>d[L]-(d[L]<u[L]?-_:M):u?L=>u[L]+I-M:y-p-M,this).call(gn,this,r):R=>R.append("rect").call(jt,this).attr("x",c?s?L=>Math.min(c[L],s[L])+v:L=>c[L]+v:m+v).attr("y",u?d?L=>Math.min(u[L],d[L])+_:L=>u[L]+_:l+_).attr("width",c?s?L=>Math.max(0,Math.abs(s[L]-c[L])+P-v-b):P-v-b:g-h-m-b-v).attr("height",u?d?L=>Math.max(0,Math.abs(u[L]-d[L])+I-_-M):I-_-M:y-l-p-_-M).call(V,"rx",x).call(V,"ry",$).call(gn,this,r))).node()}}function wu(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=bt(e),t.insetRight=bt(r),t.insetBottom=bt(i),t.insetLeft=bt(o)}function _u(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:f=n,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:u=i!==void 0?+i:f!==void 0?+f:0,rx2y1:s=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){c||u||s||d?(t.rx1y1=c,t.rx1y2=u,t.rx2y1=s,t.rx2y2=d):(t.rx=vt(e,"auto"),t.ry=vt(r,"auto"))}function vu(t,n,e,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:c,rx2y2:u}=o;typeof n!="function"&&(n=Dn(n)),typeof e!="function"&&(e=Dn(e)),typeof r!="function"&&(r=Dn(r)),typeof i!="function"&&(i=Dn(i));const s=Math.max(Math.abs(a+c),Math.abs(f+u)),d=Math.max(Math.abs(a+f),Math.abs(c+u));t.attr("d",l=>{const h=n(l),p=e(l),m=r(l),g=i(l),y=h>m,w=p>g,_=y?m:h,b=y?h:m,M=w?g:p,v=w?p:g,x=Math.min(1,(b-_)/s,(v-M)/d),$=x*(y?w?u:c:w?f:a),S=x*(y?w?f:a:w?u:c),N=x*(y?w?a:f:w?c:u),A=x*(y?w?c:u:w?a:f);return`M${_},${M+Li($,A)}A${$},${$} 0 0 ${$<0?0:1} ${_+ki($,A)},${M}H${b-ki(S,N)}A${S},${S} 0 0 ${S<0?0:1} ${b},${M+Li(S,N)}V${v-Li(N,S)}A${N},${N} 0 0 ${N<0?0:1} ${b-ki(N,S)},${v}H${_+ki(A,$)}A${A},${A} 0 0 ${A<0?0:1} ${_},${v-Li(A,$)}Z`})}function ki(t,n){return n<0?t:Math.abs(t)}function Li(t,n){return n<0?Math.abs(t):t}function Av(t,n){return new Sv(t,d4(h4(n)))}const Cv={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Ev={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Nv extends Bt{constructor(n={}){const{anchor:e=null}=n;super(Yi,void 0,n,e==null?Cv:Ev),this.anchor=Up(e,"anchor",["top","right","bottom","left"]),wu(this,n),e||_u(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:u,width:s,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:w,rx1y1:_,rx1y2:b,rx2y1:M,rx2y2:v}=this,x=u+g,$=s-f-p,S=a+h,N=d-c-m;return _t(l?"svg:line":_||b||M||v?"svg:path":"svg:rect",o).datum(0).call(wn,this,i,o).call(jt,this).call(gn,this,r).call(_n,this,{}).call(l==="left"?A=>A.attr("x1",x).attr("x2",x).attr("y1",S).attr("y2",N):l==="right"?A=>A.attr("x1",$).attr("x2",$).attr("y1",S).attr("y2",N):l==="top"?A=>A.attr("x1",x).attr("x2",$).attr("y1",S).attr("y2",S):l==="bottom"?A=>A.attr("x1",x).attr("x2",$).attr("y1",N).attr("y2",N):_||b||M||v?A=>A.call(vu,x,S,$,N,this):A=>A.attr("x",x).attr("y",S).attr("width",$-x).attr("height",N-S).attr("rx",y).attr("ry",w)).node()}}function kv(t){return new Nv(t)}const ef={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Lv=new Set(["geometry","href","src","ariaLabel","scales"]);class Dv extends Bt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&Jn(n)&&Xp(n)&&(e={...e,title:Mt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:u,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:w=20,frameAnchor:_,format:b,textAnchor:M="start",textOverflow:v,textPadding:x=8,title:$,pointerSize:S=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:$,optional:!0}},e,ef),this.anchor=Gf(u,"anchor"),this.preferredAnchor=Gf(s,"preferredAnchor"),this.frameAnchor=Jc(_),this.textAnchor=vt(M,"middle"),this.textPadding=+x,this.pointerSize=+S,this.pathFilter=St(N),this.lineHeight=+y,this.lineWidth=+w,this.textOverflow=V1(v),this.monospace=!!d,this.fontFamily=St(l),this.fontSize=bt(h),this.fontStyle=St(p),this.fontVariant=St(m),this.fontWeight=St(g);for(const A in ef)A in this.channels&&(this[A]=ef[A]);this.splitLines=G1(this),this.clipLine=j1(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:{...b}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:u,fy:s}=e,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:w,pathFilter:_}=this,{marginTop:b,marginLeft:M}=i,{x1:v,y1:x,x2:$,y2:S,x:N=v??$,y:A=x??S}=r,E=u?u(n.fx)-M:0,P=s?s(n.fy)-b:0,[I,T]=da(this,i),R=k1(r,I),L=L1(r,T),H=p?yu:gu,D=H(Ue);let F,z;"title"in r?(F=Tl.call(this,{title:r.channels.title},e),z=Ov):(F=Tl.call(this,r.channels,e),z=Bv);const q=_t("svg:g",o).call(wn,this,i,o).call(X1,this).call(_n,this,{x:N&&f,y:A&&c}).call(tt=>tt.selectAll().data(n).enter().append("g").attr("transform",nt=>`translate(${Math.round(R(nt))},${Math.round(L(nt))})`).call(jt,this).call(nt=>nt.append("path").attr("filter",_)).call(nt=>nt.append("text").each(function(B){const X=ae(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const k=z.call(a,B,n,F,e,r);if(typeof k=="string")for(const O of a.splitLines(k))U(X,{value:a.clipLine(O)});else{const O=new Set;for(const Y of k){const{label:C=""}=Y;C&&O.has(C)||(O.add(C),U(X,Y))}}})));function U(tt,{label:nt,value:B,color:X,opacity:k}){nt??="",B??="";const O=X!=null||k!=null;let Y,C=g*100;const[et]=nr(nt,C,H,D);if(et>=0)nt=nt.slice(0,et).trimEnd()+Ue,Y=B.trim(),B="";else{(nt||!B&&!O)&&(B=" "+B);const[ot]=nr(B,C-H(nt),H,D);ot>=0&&(Y=B.trim(),B=B.slice(0,ot).trimEnd()+Ue)}const W=tt.append("tspan").attr("x",0).attr("dy",`${m}em`).text("â€‹");nt&&W.append("tspan").attr("font-weight","bold").text(nt),B&&W.append(()=>l.createTextNode(B)),O&&W.append("tspan").text(" â– ").attr("fill",X).attr("fill-opacity",k).style("user-select","none"),Y&&W.append("title").text(Y)}function Q(){const{width:tt,height:nt}=i.facet??i;q.selectChildren().each(function(B){let{x:X,width:k,height:O}=this.getBBox();k=Math.round(k),O=Math.round(O);let Y=h;if(Y===void 0){const W=R(B)+E,ot=L(B)+P,ct=W+k+w+y*2<tt,$t=W-k-w-y*2>0,Yn=ot+O+w+y*2<nt,ee=ot-O-w-y*2>0;Y=ct&&$t?Yn&&ee?a.preferredAnchor:ee?"bottom":"top":Yn&&ee?ct?"left":"right":(ct||$t)&&(Yn||ee)?`${ee?"bottom":"top"}-${ct?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,et=this.lastChild;if(C.setAttribute("d",Pv(Y,w,y,k,O)),X)for(const W of et.childNodes)W.setAttribute("x",-X);et.setAttribute("y",`${+Rv(Y,et.childNodes.length,m).toFixed(6)}em`),et.setAttribute("transform",`translate(${Fv(Y,w,y,k,O)})`)}),q.attr("visibility",null)}return n.length&&(q.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(Q):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Q)),q.node()}}function Iv(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Zc(n,e)),new Dv(t,{...r,x:n,y:e})}function Rv(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function Fv(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function Pv(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function Tl(t,n){const e={};let r=this.format;r=Sl(r,t,"x"),r=Sl(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=Qs(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||Lv.has(i)||(i==="x"||i==="y")&&t.geometry)continue;const o=Qs(t,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;e[i]=o}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(It(a)?fi:rr)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?bu(a,a.domain()):tr}}return e}function Sl(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function Ov(t,n,{title:e}){return this.format.title(e.value[t],t)}function*Bv(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:Eo(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:Cl(r,e,"x"),value:Al(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:Cl(r,e,"y"),value:Al(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!Ft(f)&&c==null)continue;yield{label:Eo(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function Al(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}â€“${t(e.value[r],r)}`}function Cl(t,n,e){const r=Eo(t,n,`${e}1`,e),i=Eo(t,n,`${e}2`,e);return r===i?r:`${r}â€“${i}`}function Eo(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function oc(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=su(t.className),u=t.marks===void 0?[]:Nl(t.marks);u.push(...Vv(u));const s=Hv(n,t),d=new Map;for(const D of u){const F=kl(D,s,t);F&&d.set(D,F)}const l=new Map;s&&mr(l,[s],t),mr(l,d,t);const h=Nl(Xv(u,l,t));for(const D of h){const F=kl(D,s,t);F&&d.set(D,F)}u.unshift(...h);let p=l5(l,t);if(p!==void 0){const D=s?Ka(p,s):void 0;for(const z of u){if(z.facet===null||z.facet==="super")continue;const q=d.get(z);q!==void 0&&(q.facetsIndex=z.fx!=null||z.fy!=null?Ka(p,q):D)}const F=new Set;for(const{facetsIndex:z}of d.values())z?.forEach((q,U)=>{q?.length>0&&F.add(U)});p.forEach(0<F.size&&F.size<p.length?(z,q)=>z.empty=!F.has(q):z=>z.empty=!1);for(const z of u)if(z.facet==="exclude"){const q=d.get(z);q!==void 0&&(q.facetsIndex=p5(q.facetsIndex))}}for(const D of lt.keys())Vf(t[D])&&D!=="fx"&&D!=="fy"&&l.set(D,[]);const m=new Map;for(const D of u){if(m.has(D))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:F,channels:z}=d.get(D)??{},{data:q,facets:U,channels:Q}=D.initialize(F,z,t);xu(Q,t),m.set(D,{data:q,facets:U,channels:Q})}const g=Qf(mr(l,m,t),t),y=e4(g,u,t);n5(g,y);const w=al(g),{fx:_,fy:b}=w,M=_||b?v1(g,y):y,v=_||b?t7(w,y):y,x=cu(t),$=x.document,S=Oo("svg").call($.documentElement);let N=S;x.ownerSVGElement=S,x.className=c,x.projection=M5(t,M),x.path=function(){return Tc(this.projection??N5(w))},x.filterFacets=(D,F)=>Ka(p,{channels:F,groups:fu(D,F)}),x.getMarkState=D=>{const F=m.get(D),z=d.get(D);return{...F,channels:{...F.channels,...z?.channels}}},x.dispatchValue=D=>{N.value!==D&&(N.value=D,N.dispatchEvent(new x.document.defaultView.Event("input",{bubbles:!0})))};const A=new Set;for(const[D,F]of m)if(D.initializer!=null){const z=D.facet==="super"?v:M,q=D.initializer(F.data,F.facets,F.channels,w,z,x);if(q.data!==void 0&&(F.data=q.data),q.facets!==void 0&&(F.facets=q.facets),q.channels!==void 0){const{fx:U,fy:Q,...tt}=q.channels;Yv(tt),Object.assign(F.channels,tt);for(const nt of Object.values(tt)){const{scale:B}=nt;B!=null&&!G3(lt.get(B))&&(Tm(nt,t),A.add(B))}(U!=null||Q!=null)&&d.set(D,!0)}}if(A.size){const D=new Map;mr(D,m,t,U=>A.has(U)),mr(l,m,t,U=>A.has(U));const F=Jv(Qf(D,t),g),{scales:z,...q}=al(F);Object.assign(g,F),Object.assign(w,q),Object.assign(w.scales,z)}let E,P;p!==void 0&&(E={x:_?.domain(),y:b?.domain()},p=d5(p,E),P=h5(_,b,y));for(const[D,F]of m)F.values=D.scale(F.channels,w,x);const{width:I,height:T}=y;ae(S).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",T).attr("viewBox",`0 0 ${I} ${T}`).attr("aria-label",a).attr("aria-description",f).call(D=>D.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(lu,e);for(const D of u){const{channels:F,values:z,facets:q}=m.get(D);if(p===void 0||D.facet==="super"){let U=null;if(q&&(U=q[0],U=D.filter(U,F,z),U.length===0))continue;const Q=D.render(U,w,z,v,x);if(Q==null)continue;S.appendChild(Q)}else{let U;for(const Q of p){if(!(D.facetAnchor?.(p,E,Q)??!Q.empty))continue;let tt=null;if(q){const B=d.has(D);if(tt=q[B?Q.i:0],tt=D.filter(tt,F,z),tt.length===0)continue;!B&&tt===q[0]&&(tt=se(tt)),tt.fx=Q.x,tt.fy=Q.y,tt.fi=Q.i}const nt=D.render(tt,w,z,M,x);if(nt!=null){(U??=ae(S).append("g")).append(()=>nt).datum(Q);for(const B of["aria-label","aria-description","aria-hidden","transform"])nt.hasAttribute(B)&&(U.attr(B,nt.getAttribute(B)),nt.removeAttribute(B))}}U?.selectChildren().each(P)}}const R=fv(g,x,t),{figure:L=r!=null||i!=null||o!=null||R.length>0}=t;L&&(N=$.createElement("figure"),N.className=`${c}-figure`,N.style.maxWidth="initial",r!=null&&N.append(El($,r,"h2")),i!=null&&N.append(El($,i,"h3")),N.append(...R,S),o!=null&&N.append(Uv($,o)),"value"in S&&(N.value=S.value,delete S.value)),N.scale=u5(w.scales),N.legend=iv(g,x,t);const H=O8();return H>0&&ae(S).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("âš ï¸").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),N}function El(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function Uv(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Nl(t){return t.flat(1/0).filter(n=>n!=null).map(zv)}function zv(t){return typeof t.render=="function"?t:new qv(t)}class qv extends Bt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function xu(t,n){for(const e in t)Tm(t[e],n);return t}function Tm(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c==null?NaN:c*100:Vp(a,i)}=n[e]??{};f!=null&&(t.value=ht(t.value,f),t.transform=!1)}function Yv(t){for(const n in t)f1(n,t[n])}function mr(t,n,e,r=k3){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:f}=a;if(f!=null&&r(f))if(f==="projection"){if(!A5(e)){const c=e.x?.domain===void 0,u=e.y?.domain===void 0;if(c||u){const[s,d]=E5(a);c&&rf(t,"x",s),u&&rf(t,"y",d)}}}else rf(t,f,a)}return t}function rf(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function Hv(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Je(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Wr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Wr(i,{value:r,scale:"fy"})),xu(o,n);const a=fu(i,o);return{channels:o,groups:a,data:t.data}}function kl(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Je(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const u={};return r!=null&&(u.fx=Wr(c,{value:r,scale:"fx"})),i!=null&&(u.fy=Wr(c,{value:i,scale:"fy"})),xu(u,e),{channels:u,groups:fu(c,u)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&qr(Je(t.data))===qr(f)&&Rn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnâ€™t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Wv(t,n={}){return Ao({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function Vv(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?o4:/^y$/i.test(i)?ml:i4,r=i(Wv(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===ml?"left":"bottom");const a=Iv(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function Xv(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:u,facet:s={},facet:{axis:d=c,grid:l}=s,x:{axis:h=c,grid:p=h===null?null:u}=i,y:{axis:m=c,grid:g=m===null?null:u}=o,fx:{axis:y=d,grid:w=y===null?null:l}=a,fy:{axis:_=d,grid:b=_===null?null:l}=f}=e;(r||!Vf(i)&&!Ll("x",t))&&(h=p=null),(r||!Vf(o)&&!Ll("y",t))&&(m=g=null),n.has("fx")||(y=w=null),n.has("fy")||(_=b=null),h===void 0&&(h=!Ri(t,"x")),m===void 0&&(m=!Ri(t,"y")),y===void 0&&(y=!Ri(t,"fx")),_===void 0&&(_=!Ri(t,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),_===!0&&(_=m==="right"||m===null?"left":"right");const M=[];return Ii(M,b,G4,f),Di(M,_,z4,"right","left",s,f),Ii(M,w,Z4,a),Di(M,y,q4,"top","bottom",s,a),Ii(M,g,X4,o),Di(M,m,om,"left","right",e,o),Ii(M,p,j4,i),Di(M,h,am,"bottom","top",e,i),M}function Di(t,n,e,r,i,o,a){if(!n)return;const f=Gv(n);a=jv(f?r:n,o,a);const{line:c}=a;(e===om||e===am)&&c&&!Hr(c)&&t.push(kv(Zv(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function Ii(t,n,e,r){!n||Hr(n)||t.push(e(Kv(n,r)))}function Gv(t){return/^\s*both\s*$/i.test(t)}function jv(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:u,ariaLabel:s,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:m}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:u,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:m}}function Zv(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function Kv(t,{stroke:n=aa(t)?t:void 0,ticks:e=Qv(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function Qv(t){switch(typeof t){case"number":return!0;case"string":return!aa(t)}return Jn(t)||typeof t?.range=="function"}function Ri(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function Ll(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function Jv(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function t7({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=au(e),u=t&&Dl(t),s=n&&Dl(n);return{marginTop:n?s[0]:r,marginRight:t?f-u[1]:i,marginBottom:n?c-s[1]:o,marginLeft:t?u[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function Dl(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const n7=new Map([["basis",e3],["basis-closed",r3],["basis-open",i3],["bundle",o3],["bump-x",W6],["bump-y",V6],["cardinal",a3],["cardinal-closed",f3],["cardinal-open",c3],["catmull-rom",u3],["catmull-rom-closed",s3],["catmull-rom-open",l3],["linear",na],["linear-closed",d3],["monotone-x",h3],["monotone-y",p3],["natural",m3],["step",g3],["step-after",b3],["step-before",y3]]);function e7(t=na,n){if(typeof t=="function")return t;const e=n7.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function r7(t=No,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?No:e7(t,n)}function No(t){return na(t)}function i7(t={y:"count"},n={}){[t,n]=Am(t,n);const{x:e,y:r}=n;return Sm(ac(e,n,Mt),null,null,r,t,mi(n))}function o7(t={fill:"count"},n={}){[t,n]=Am(t,n);const{x:e,y:r}=c7(n);return Sm(e,r,null,null,t,mi(ma(n)))}function a7(t,n,e={}){if(e?.interval==null)return e;const{reduce:r=eu}=e,i={filter:null};return e[n]!=null&&(i[n]=r),e[`${n}1`]!=null&&(i[`${n}1`]=r),e[`${n}2`]!=null&&(i[`${n}2`]=r),t(i,e)}function f7(t={}){return a7(i7,"y",ha(t,"x"))}function Sm(t,n,e,r,{data:i=a1,filter:o=Co,sort:a,reverse:f,...c}={},u={}){t=Il(t),n=Il(n),c=s7(c,u),i=Nm(i,Mt),a=a==null?void 0:Cm("sort",a,u),o=o==null?void 0:Em("filter",o,u),r!=null&&Ha(c,"y","y1","y2")&&(r=null);const[s,d]=Sn(t),[l,h]=Sn(t),[p,m]=Sn(n),[g,y]=Sn(n),[w,_]=r!=null?[r,"y"]:[],[b,M]=Sn(w),{x:v,y:x,z:$,fill:S,stroke:N,x1:A,x2:E,y1:P,y2:I,domain:T,cumulative:R,thresholds:L,interval:H,...D}=u,[F,z]=Sn($),[q]=Bn(S),[U]=Bn(N),[Q,tt]=Sn(q),[nt,B]=Sn(U);return{..."z"in u&&{z:F||$},..."fill"in u&&{fill:Q||S},..."stroke"in u&&{stroke:nt||N},...ca(D,(X,k,O)=>{const Y=Wp(dt(X,w),O?.[_]),C=dt(X,$),et=dt(X,q),W=dt(X,U),ot=o8(c,{z:C,fill:et,stroke:W}),ct=[],$t=[],Yn=Y&&M([]),ee=C&&z([]),Rm=et&&tt([]),Fm=W&&B([]),Su=t&&d([]),Pm=t&&h([]),Au=n&&m([]),Om=n&&y([]),Bm=h7(t,n,X);let Um=0;for(const Ae of c)Ae.initialize(X);a&&a.initialize(X),o&&o.initialize(X);for(const Ae of k){const Cu=[];for(const Ce of c)Ce.scope("facet",Ae);a&&a.scope("facet",Ae),o&&o.scope("facet",Ae);for(const[Ce,zm]of Gs(Ae,ot))for(const[qm,gi]of Gs(zm,Y))for(const[an,vn]of Bm(gi))if(ot&&(vn.z=Ce),!(o&&!o.reduce(an,vn))){Cu.push(Um++),$t.push(i.reduceIndex(an,X,vn)),Y&&Yn.push(qm),C&&ee.push(ot===C?Ce:C[(an.length>0?an:gi)[0]]),et&&Rm.push(ot===et?Ce:et[(an.length>0?an:gi)[0]]),W&&Fm.push(ot===W?Ce:W[(an.length>0?an:gi)[0]]),Su&&(Su.push(vn.x1),Pm.push(vn.x2)),Au&&(Au.push(vn.y1),Om.push(vn.y2));for(const Ym of c)Ym.reduce(an,vn);a&&a.reduce(an,vn)}ct.push(Cu)}return a8(ct,a,f),{data:$t,facets:ct}}),...!Ha(c,"x")&&(s?{x1:s,x2:l,x:Xf(s,l)}:{x:v,x1:A,x2:E}),...!Ha(c,"y")&&(p?{y1:p,y2:g,y:Xf(p,g)}:{y:x,y1:P,y2:I}),...b&&{[_]:b},...Object.fromEntries(c.map(({name:X,output:k})=>[X,k]))}}function Am({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function ac(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return t={...ui(t)},t.domain===void 0&&(t.domain=e),t.cumulative===void 0&&(t.cumulative=n),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=u7(t.thresholds,t.interval),t}function c7(t){let{x:n,y:e}=t;return n=ac(n,t),e=ac(e,t),[n.value,e.value]=Zc(n.value,e.value),{x:n,y:e}}function Il(t){if(t==null)return;const{value:n,cumulative:e,domain:r=Yt,thresholds:i}=t,o=a=>{let f=dt(a,n),c;if(It(f)||d7(i)){f=ht(f,Bp,Float64Array);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Fe(i)?i(f,s,d):i;typeof l=="number"&&(l=Fh(s,d,l)),Fe(l)&&(r===Yt&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d))),c=l}else{f=Qe(f);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Fe(i)?i(f,s,d):i;if(typeof l=="number")if(r===Yt){let h=Xi(s,d,l);if(isFinite(h))if(h>0){let p=Math.round(s/h),m=Math.round(d/h);p*h<=s||--p,m*h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(s*h),m=Math.round(d*h);p/h<=s||--p,m/h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)/h}else l=[s];else l=[s]}else l=kr(s,d,l);else Fe(l)&&(r===Yt&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d)));c=l}const u=[];if(c.length===1)u.push([c[0],c[0]]);else for(let s=1;s<c.length;++s)u.push([c[s-1],c[s]]);return u.bin=(e<0?m7:e>0?p7:Mu)(u,c,f),u};return o.label=Te(n),o}function u7(t,n,e=Rl){if(t===void 0)return n===void 0?e:or(n);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return cg;case"scott":return Vl;case"sturges":return ig;case"auto":return Rl}return Hc(t)}return t}function s7(t,n){return e8(t,n,Cm)}function Cm(t,n,e){return i1(t,n,e,Em)}function Em(t,n,e){return o1(t,n,e,Nm)}function Nm(t,n){return nu(t,n,l7)}function l7(t){switch(`${t}`.toLowerCase()){case"x":return g7;case"x1":return b7;case"x2":return w7;case"y":return y7;case"y1":return _7;case"y2":return v7;case"z":return h8}throw new Error(`invalid bin reduce: ${t}`)}function Rl(t,n,e){return Math.min(200,Vl(t,n,e))}function d7(t){return P3(t)||Jn(t)&&It(t)}function h7(t,n,e){const r=t?.(e),i=n?.(e);return r&&i?function*(o){const a=r.bin(o);for(const[f,[c,u]]of r.entries()){const s=i.bin(a[f]);for(const[d,[l,h]]of i.entries())yield[s[d],{data:e,x1:c,y1:l,x2:u,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[c,u]]of r.entries())yield[a[f],{data:e,x1:c,x2:u}]}:function*(o){const a=i.bin(o);for(const[f,[c,u]]of i.entries())yield[a[f],{data:e,y1:c,y2:u}]}}function Mu(t,n,e){return n=Qe(n),r=>{const i=t.map(()=>[]);for(const o of r)i[Lo(n,e[o])-1]?.push(o);return i}}function p7(t,n,e){const r=Mu(t,n,e);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const c=o[a-1],u=o[a];for(const s of c)u.push(s)}return o}}function m7(t,n,e){const r=Mu(t,n,e);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],c=o[a];for(const u of f)c.push(u)}return o}}function km(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const g7={reduceIndex(t,n,{x1:e,x2:r}){return km(e,r)}},y7={reduceIndex(t,n,{y1:e,y2:r}){return km(e,r)}},b7={reduceIndex(t,n,{x1:e}){return e}},w7={reduceIndex(t,n,{x2:e}){return e}},_7={reduceIndex(t,n,{y1:e}){return e}},v7={reduceIndex(t,n,{y2:e}){return e}},x7={ariaLabel:"bar"};class M7 extends Bt{constructor(n,e,r={},i=x7){super(n,e,r,i),wu(this,r),_u(this,r)}render(n,e,r,i,o){const{rx:a,ry:f,rx1y1:c,rx1y2:u,rx2y1:s,rx2y2:d}=this,l=this._x(e,r,i),h=this._y(e,r,i),p=this._width(e,r,i),m=this._height(e,r,i);return _t("svg:g",o).call(wn,this,i,o).call(this._transform,this,e).call(g=>g.selectAll().data(n).enter().call(c||u||s||d?y=>y.append("path").call(jt,this).call(vu,l,h,Fl(l,p),Fl(h,m),this).call(gn,this,r):y=>y.append("rect").call(jt,this).attr("x",l).attr("width",p).attr("y",h).attr("height",m).call(V,"rx",a).call(V,"ry",f).call(gn,this,r))).node()}_x(n,{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e?o=>e[o]+i:r+i}_y(n,{y:e},{marginTop:r}){const{insetTop:i}=this;return e?o=>e[o]+i:r+i}_width({x:n},{x:e},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,c=e&&n?n.bandwidth():o-r-i;return Math.max(0,c-a-f)}_height({y:n},{y:e},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,c=e&&n?n.bandwidth():o-r-i;return Math.max(0,c-a-f)}}function Fl(t,n){return typeof t=="function"&&typeof n=="function"?e=>t(e)+n(e):typeof t=="function"?e=>t(e)+n:typeof n=="function"?e=>t+n(e):t+n}class $7 extends M7{constructor(n,e={},r){const{x:i,y1:o,y2:a}=e;super(n,{y1:{value:o,scale:"y"},y2:{value:a,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},e,r)}_transform(n,e,{y:r}){n.call(_n,e,{y:r},0,0)}_y({y:n},{y1:e,y2:r},{marginTop:i}){const{insetTop:o}=this;return Zn(n)?i+o:a=>Math.min(e[a],r[a])+o}_height({y:n},{y1:e,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:f,insetBottom:c}=this;return Zn(n)?a-i-o-f-c:u=>Math.max(0,Math.abs(r[u]-e[u])-f-c)}}function T7(t,n={}){return D3(n)||(n={...n,x:Xc,y2:Mt}),new $7(t,lv(U1(cv(n))))}const S7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class A7 extends Bt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:f}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Kc(e),optional:!0}},e,S7),this.z=o,this.curve=r7(a,f),pa(this,e)}filter(n){return n}project(n,e,r){this.curve!==No&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:f}=r,{curve:c}=this;return _t("svg:g",o).call(wn,this,i,o).call(_n,this,e).call(u=>u.selectAll().data(V5(n,[a,f],this,r)).enter().append("path").call(jt,this).call(Y5,this,r).call(s4,this,r,o).attr("d",c===No&&o.projection?C7(o.path(),a,f):H6().curve(c).defined(s=>s>=0).x(s=>a[s]).y(s=>f[s]))).node()}}function C7(t,n,e){return n=Qe(n),e=Qe(e),r=>{let i=[];const o=[i];for(const a of r)a===-1?(i=[],o.push(i)):i.push([n[a],e[a]]);return t({type:"MultiLineString",coordinates:o})}}function of(t,{x:n=Xc,y:e=Mt,...r}={}){return new A7(t,f7({...r,x:n,y:e}))}function E7(t,n={}){let{y:e,y1:r,y2:i}=n;e===void 0&&r===void 0&&i===void 0&&(n={...n,y:e=Mt});const o={};return e!=null&&(o.y=t),r!=null&&(o.y1=t),i!=null&&(o.y2=t),N7(o,n)}function N7(t={},n={}){const e=Kc(n),r=Object.entries(t).map(([i,o])=>{const a=Hp(i,n);if(a==null)throw new Error(`missing channel: ${i}`);const[f,c]=Yr(a);return{key:i,input:a,output:f,setOutput:c,map:k7(o)}});return{...ca(n,(i,o)=>{const a=dt(i,e),f=r.map(({input:u})=>dt(i,u)),c=r.map(({setOutput:u})=>u(new Array(i.length)));for(const u of o)for(const s of a?Gr(u,d=>a[d]).values():[u])r.forEach(({map:d},l)=>d.mapIndex(s,f[l],c[l]));return{data:i,facets:o}}),...Object.fromEntries(r.map(({key:i,output:o})=>[i,o]))}}function k7(t){if(t==null)throw new Error("missing map");if(typeof t.mapIndex=="function")return t;if(typeof t.map=="function"&&Un(t))return L7(t);if(typeof t=="function")return af(Yp(t));switch(`${t}`.toLowerCase()){case"cumsum":return I7;case"rank":return af((n,e)=>Zl(n,r=>e[r]));case"quantile":return af((n,e)=>D7(n,r=>e[r]))}throw new Error(`invalid map: ${t}`)}function L7(t){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:t.map.bind(t)}}function D7(t,n){const e=Do(t,n)-1;return Zl(t,n).map(r=>r/e)}function af(t){return{mapIndex(n,e,r){const i=t(n,e);if(i.length!==n.length)throw new Error("map function returned a mismatched length");for(let o=0,a=n.length;o<a;++o)r[n[o]]=i[o]}}}const I7={mapIndex(t,n,e){let r=0;for(const i of t)e[i]=r+=n[i]}};function ff(t={},n){return arguments.length===1&&(n=t),E7(R7(t),n)}function R7(t={}){typeof t=="number"&&(t={k:t});let{k:n,reduce:e,shift:r,anchor:i,strict:o}=t;if(i===void 0&&r!==void 0&&(i=P7(r),Rn(`Warning: the shift option is deprecated; please use anchor "${i}" instead.`)),!((n=Math.floor(n))>0))throw new Error(`invalid k: ${n}`);return O7(e)(n,F7(i,n),o)}function F7(t="middle",n){switch(`${t}`.toLowerCase()){case"middle":return n-1>>1;case"start":return 0;case"end":return n-1}throw new Error(`invalid anchor: ${t}`)}function P7(t){switch(`${t}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${t}`)}function O7(t="mean"){if(typeof t=="string"){if(/^p\d{2}$/i.test(t))return Fi(Pp(t));switch(t.toLowerCase()){case"deviation":return Fi(Io);case"max":return Pi((n,e)=>At(n,r=>e[r]));case"mean":return B7;case"median":return Fi(Gi);case"min":return Pi((n,e)=>hn(n,r=>e[r]));case"mode":return Pi((n,e)=>jl(n,r=>e[r]));case"sum":return Lm;case"variance":return Fi(uc);case"difference":return q7;case"ratio":return Y7;case"first":return H7;case"last":return W7}}if(typeof t!="function")throw new Error(`invalid reduce: ${t}`);return Pi(Yp(t))}function Fi(t){return(n,e,r)=>r?{mapIndex(i,o,a){const f=u=>o[u]==null?NaN:+o[u];let c=0;for(let u=0;u<n-1;++u)isNaN(f(u))&&++c;for(let u=0,s=i.length-n+1;u<s;++u)isNaN(f(u+n-1))&&++c,a[i[u+e]]=c===0?t(se(i,u,u+n),f):NaN,isNaN(f(u))&&--c}}:{mapIndex(i,o,a){const f=c=>o[c]==null?NaN:+o[c];for(let c=-e;c<0;++c)a[i[c+e]]=t(se(i,0,c+n),f);for(let c=0,u=i.length-e;c<u;++c)a[i[c+e]]=t(se(i,c,c+n),f)}}}function Pi(t){return(n,e,r)=>r?{mapIndex(i,o,a){let f=0;for(let c=0;c<n-1;++c)f+=Ft(o[i[c]]);for(let c=0,u=i.length-n+1;c<u;++c)f+=Ft(o[i[c+n-1]]),f===n&&(a[i[c+e]]=t(se(i,c,c+n),o)),f-=Ft(o[i[c]])}}:{mapIndex(i,o,a){for(let f=-e;f<0;++f)a[i[f+e]]=t(se(i,0,f+n),o);for(let f=0,c=i.length-e;f<c;++f)a[i[f+e]]=t(se(i,f,f+n),o)}}}function Lm(t,n,e){return e?{mapIndex(r,i,o){let a=0,f=0;for(let c=0;c<t-1;++c){const u=i[r[c]];u===null||isNaN(u)?++a:f+=+u}for(let c=0,u=r.length-t+1;c<u;++c){const s=i[r[c]],d=i[r[c+t-1]];d===null||isNaN(d)?++a:f+=+d,o[r[c+n]]=a===0?f:NaN,s===null||isNaN(s)?--a:f-=+s}}}:{mapIndex(r,i,o){let a=0;const f=r.length;for(let c=0,u=Math.min(f,t-n-1);c<u;++c)a+=+i[r[c]]||0;for(let c=-n,u=f-n;c<u;++c)a+=+i[r[c+t-1]]||0,o[r[c+n]]=a,a-=+i[r[c]]||0}}}function B7(t,n,e){if(e){const r=Lm(t,n,e);return{mapIndex(i,o,a){r.mapIndex(i,o,a);for(let f=0,c=i.length-t+1;f<c;++f)a[i[f+n]]/=t}}}else return{mapIndex(r,i,o){let a=0,f=0;const c=r.length;for(let u=0,s=Math.min(c,t-n-1);u<s;++u){let d=i[r[u]];d!==null&&!isNaN(d=+d)&&(a+=d,++f)}for(let u=-n,s=c-n;u<s;++u){let d=i[r[u+t-1]],l=i[r[u]];d!==null&&!isNaN(d=+d)&&(a+=d,++f),o[r[u+n]]=a/f,l!==null&&!isNaN(l=+l)&&(a-=l,--f)}}}}function U7(t,n,e,r){for(let i=e+r;e<i;++e){const o=t[n[e]];if(Ft(o))return o}}function z7(t,n,e,r){for(let i=e+r-1;i>=e;--i){const o=t[n[i]];if(Ft(o))return o}}function Dm(t,n,e,r){for(let i=e+r;e<i;++e){let o=t[n[e]];if(o!==null&&!isNaN(o=+o))return o}}function Im(t,n,e,r){for(let i=e+r-1;i>=e;--i){let o=t[n[i]];if(o!==null&&!isNaN(o=+o))return o}}function q7(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,f=r.length-t;a<f;++a){const c=i[r[a]],u=i[r[a+t-1]];o[r[a+n]]=c===null||u===null?NaN:u-c}}}:{mapIndex(r,i,o){for(let a=-n,f=r.length-t+n+1;a<f;++a)o[r[a+n]]=Im(i,r,a,t)-Dm(i,r,a,t)}}}function Y7(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,f=r.length-t;a<f;++a){const c=i[r[a]],u=i[r[a+t-1]];o[r[a+n]]=c===null||u===null?NaN:u/c}}}:{mapIndex(r,i,o){for(let a=-n,f=r.length-t+n+1;a<f;++a)o[r[a+n]]=Im(i,r,a,t)/Dm(i,r,a,t)}}}function H7(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,f=r.length-t;a<f;++a)o[r[a+n]]=i[r[a]]}}:{mapIndex(r,i,o){for(let a=-n,f=r.length-t+n+1;a<f;++a)o[r[a+n]]=U7(i,r,a,t)}}}function W7(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,f=r.length-t;a<f;++a)o[r[a+n]]=i[r[a+t-1]]}}:{mapIndex(r,i,o){for(let a=-n,f=r.length-t+n+1;a<f;++a)o[r[a+n]]=z7(i,r,a,t)}}}const V7={ariaLabel:"tick",fill:null,stroke:"currentColor"};class X7 extends Bt{constructor(n,e,r){super(n,e,r,V7),pa(this,r)}render(n,e,r,i,o){return _t("svg:g",o).call(wn,this,i,o).call(this._transform,this,e).call(a=>a.selectAll().data(n).enter().append("line").call(jt,this).attr("x1",this._x1(e,r,i)).attr("x2",this._x2(e,r,i)).attr("y1",this._y1(e,r,i)).attr("y2",this._y2(e,r,i)).call(gn,this,r).call(hu,this,r,o)).node()}}class G7 extends X7{constructor(n,e={}){const{x:r,y:i,inset:o=0,insetRight:a=o,insetLeft:f=o}=e;super(n,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},e),this.insetRight=bt(a),this.insetLeft=bt(f)}_transform(n,e,{y:r}){n.call(_n,e,{y:r},0,Lt)}_x1({x:n},{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e&&n?o=>e[o]+i:r+i}_x2({x:n},{x:e},{width:r,marginRight:i}){const{insetRight:o}=this;return e&&n?a=>e[a]+n.bandwidth()-o:r-i-o}_y1(n,{y:e}){return r=>e[r]}_y2(n,{y:e}){return r=>e[r]}}function j7(t,{y:n=Mt,...e}={}){return new G7(t,{...e,y:n})}Bt.prototype.plot=function({marks:t=[],...n}={}){return oc({...n,marks:[...t,this]})};const Z7=document.querySelector("#app");Z7.innerHTML=`

    <h1>EIA TimeVis</h1>
    <i><h2>Data Source: <a href="https://www.eia.gov/electricity/gridmonitor/dashboard/electric_overview/US48/US48">EIA Open Data</a></h2></i>
  <main>
    <section id="controls">
      <label for="ba-select">Balance Authority:</label>
      <select id="ba-select">
        <option value="DUK">DUK</option>
      </select>

      <label for="metric-select">Metric:</label>
      <select id="metric-select">
        <option value="demand">demand</option>
        <option value="demand_forecast">demand_forecast</option>
        <option value="net_generation">net_generation</option>
        <option value="total_interchange">total_interchange</option>
        <option value="demand_adj">demand_adj</option>
        <option value="net_generation_adj">net_generation_adj</option>
        <option value="total_interchange_adj">total_interchange_adj</option>
      </select>
    </section>

    <div id="tab-container">
      <nav id="tabs">
        <button id="tab-charts" class="active">Charts</button>
        <button id="tab-anomalies">Anomalies <span id="anomaly-count">0</span></button>
      </nav>

      <section id="charts-panel">
        <section id="plot-container">
        \x3C!-- Observable Plot will render into this div -->
        <div id="range-plot" class="plot-placeholder">Chart will appear here</div>
        <div id="month-plot" class="plot-placeholder">Chart will appear here</div>
        <div id="bivar-plot" class="plot-placeholder">Chart will appear here</div>
      </section>
    </section>

      </section> \x3C!-- end charts-panel -->

      <section id="anomalies-panel" class="hidden">
        <section id="anomalies-container">
          <h3 align="center">Anomaly Table</h3>
          <div id="anomalies">None</div>
        </section>
      </section>
    </div> \x3C!-- end tab-container -->
  </main>
`;const K7="./eia.csv";async function Q7(){const t=await fetch(K7).then(e=>e.text());return rw(t,e=>{const r={};for(const i in e){let o=e[i];if(o!=null&&o!==""){const a=+o.replace(/,/g,"");isNaN(a)||(o=a)}r[i]=o}return r.date&&(r.date=new Date(r.date)),r}).filter(e=>e.date instanceof Date&&!isNaN(e.date.valueOf()))}let Pl=null,Tr="DUK",De="demand";function J7(t,n){const e=document.getElementById("anomalies");if(t.length===0){e.textContent="None",document.getElementById("anomaly-count").textContent="0";return}const r=t.map(p=>p[n]).filter(p=>typeof p=="number");if(r.length===0){e.textContent="None",document.getElementById("anomaly-count").textContent="0";return}const i=Xl(r),o=Io(r);if(o===void 0||isNaN(o)){e.textContent="None",document.getElementById("anomaly-count").textContent="0";return}const a=i+3*o,f=i-3*o,c=t.filter(p=>typeof p[n]=="number"&&(p[n]>a||p[n]<f)).sort((p,m)=>m[`${n}`]-p[`${n}`]);if(c.length===0){e.textContent="None",document.getElementById("anomaly-count").textContent="0";return}document.getElementById("anomaly-count").textContent=String(c.length);const u=document.createElement("table"),s=document.createElement("thead"),d=document.createElement("tr");["date",n].forEach(p=>{const m=document.createElement("th");m.textContent=p,d.appendChild(m)}),s.appendChild(d),u.appendChild(s);const l=document.createElement("tbody"),h=new Intl.NumberFormat(void 0);c.forEach(p=>{const m=document.createElement("tr"),g=document.createElement("td");g.textContent=p.date.toString(),m.appendChild(g);const y=document.createElement("td"),w=p[n];y.textContent=typeof w=="number"?h.format(w):String(w),y.style.textAlign="right",m.appendChild(y),l.appendChild(m)}),u.appendChild(l),e.innerHTML="",e.appendChild(u)}async function $u(){const t=Pl||await Q7();Pl=t;const n=Eu(t,g=>g.ba).map(g=>g[0]).sort(),e=document.getElementById("ba-select"),r=new Set(Array.from(e.options).map(g=>g.value));for(const g of n)if(!r.has(g)){const y=document.createElement("option");y.value=g,y.textContent=g,e.appendChild(y)}const i=t.filter(g=>g.ba===Tr);J7(i,De),console.log(i.find(g=>g.demand>1e5));const o=De,a=document.getElementById("range-plot"),f=800;a.innerHTML="";const c=300,u=oc({width:f,height:c,marginLeft:80,y:{grid:!0},title:`${Tr} - ${De}`,subtitle:"Median Line with Min/Max (24h window) Range",marks:[of(i,ff({k:24,reduce:"min"},{x:"date",y:o,strokeOpacity:.3,strokeWidth:1})),of(i,ff({k:24,reduce:"max"},{x:"date",y:o,strokeOpacity:.5,strokeWidth:1})),of(i,ff({k:24,reduce:"median"},{x:"date",y:o}))]});a.append(u);const s=document.getElementById("month-plot");s.innerHTML="";const d=Eu(i,g=>g.date.getUTCMonth()).map(g=>({month:g[0],values:g[1].map(y=>y[`${o}`])})),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=oc({width:f,height:c,marginLeft:80,x:{tickFormat:g=>l[g],label:null},y:{grid:!0,label:`${De}`,nice:!0},title:`${Tr} - ${De}`,subtitle:"Monthly Maximum Values",marks:[T7(d,{x:"month",y:g=>At(g.values),fill:"steelblue",opacity:.2}),j7(d,{x:"month",y:g=>At(g.values),fill:"#000"}),mu(d,{x:"month",y:g=>At(g.values),text:g=>At(g.values)?.toLocaleString(),dy:-6,lineAnchor:"bottom"}),q1([0])]});s.append(h);const p=document.getElementById("bivar-plot");p.innerHTML="";const m=Av(i,o7({fill:"count"},{x:"demand",y:"demand_forecast"})).plot({title:`${Tr}`,subtitle:"Bivariate Distribution of Demand vs Demand Forecast",marginLeft:60,grid:!0,color:{scheme:"BuPu",type:"symlog",legend:!0}});p.append(m)}const tx=document.getElementById("ba-select"),nx=document.getElementById("metric-select");tx.addEventListener("change",t=>{Tr=t.target.value,$u().catch(n=>console.error("plot error",n))});nx.addEventListener("change",t=>{De=t.target.value,$u().catch(n=>console.error("plot error",n))});const fc=document.getElementById("tab-charts"),cc=document.getElementById("tab-anomalies"),Ol=document.getElementById("charts-panel"),Bl=document.getElementById("anomalies-panel");function Tu(t){t==="charts"?(fc.classList.add("active"),cc.classList.remove("active"),Ol.classList.remove("hidden"),Bl.classList.add("hidden")):(fc.classList.remove("active"),cc.classList.add("active"),Ol.classList.add("hidden"),Bl.classList.remove("hidden"))}fc.addEventListener("click",()=>Tu("charts"));cc.addEventListener("click",()=>Tu("anomalies"));Tu("charts");$u().catch(t=>console.error("plot error",t));</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}#app{max-width:1280px;margin:0 auto;padding:2rem;text-align:center}.logo{height:6em;padding:1.5em;will-change:filter;transition:filter .3s}.logo:hover{filter:drop-shadow(0 0 2em #646cffaa)}.logo.vanilla:hover{filter:drop-shadow(0 0 2em #3178c6aa)}.card{padding:2em}.read-the-docs{color:#888}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}#plot-container{margin-top:2rem}#anomalies td{text-align:right}#anomalies td:first-child{text-align:left}#anomalies-container{margin-top:1rem;text-align:left}#anomalies table{width:100%;border-collapse:collapse}#anomalies th,#anomalies td{border:1px solid #999;padding:.25rem .5rem}#plot{width:100%}#tab-container{border:1px solid #ccc;border-radius:4px;padding:1rem;margin-top:1rem}#charts-panel,#anomalies-panel{min-width:800px;max-width:800px;margin:0 auto}#tabs{display:flex;justify-content:center;gap:1rem;border-bottom:1px solid #ccc}#tabs button{background:none;border:none;padding:.5rem 0;cursor:pointer;font-size:1rem;position:relative}#tabs button:focus{outline:none;box-shadow:none}#tabs button.active{font-weight:700}#tabs button.active:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#000}#anomaly-count{display:inline-block;background:#e74c3c;color:#fff;border-radius:12px;padding:0 .4em;font-size:.8em;vertical-align:middle}.hidden{display:none}.plot-placeholder{min-height:240px;display:flex;align-items:center;justify-content:center;color:#000}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
